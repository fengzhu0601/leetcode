<!doctype html>
<html lang="zh" data-hairline="true"><head><meta charset="utf-8"/><title data-react-helmet="true">当一个颜值很高的程序员是怎样一番体验？ - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="renderer" content="webkit"/><meta name="force-rendering" content="webkit"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"/><meta data-react-helmet="true" name="apple-itunes-app" content="app-id=432274380, app-argument=zhihu://questions/37787176"/><link rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/static/favicon.ico"/><link rel="dns-prefetch" href="//static.zhimg.com"/><link rel="dns-prefetch" href="//pic1.zhimg.com"/><link rel="dns-prefetch" href="//pic2.zhimg.com"/><link rel="dns-prefetch" href="//pic3.zhimg.com"/><link rel="dns-prefetch" href="//pic4.zhimg.com"/><link href="https://static.zhihu.com/heifetz/main.app.c9f44ab9fcb04059f215.css" rel="stylesheet"/></head><body class="Entry-body"><div id="root"><div data-zop-userToken="{}" data-reactroot="" data-reactid="1" data-react-checksum="-1287701035"><!-- react-empty: 2 --><div class="LoadingBar" data-reactid="3"></div><!-- react-empty: 4 --><div data-reactid="5"><header role="banner" class="Sticky AppHeader" data-za-module="TopNavBar" data-reactid="6"><!-- react-empty: 7 --><div class="AppHeader-inner" data-reactid="8"><a href="/" aria-label="知乎" data-reactid="9"><svg viewBox="0 0 200 91" class="Icon Icon--logo" style="fill:#0f88eb;height:30px;width:64px;" width="64" height="30" aria-hidden="true" data-reactid="10"><title data-reactid="11"></title><g data-reactid="12"><path d="M53.29 80.035l7.32.002 2.41 8.24 13.128-8.24h15.477v-67.98H53.29v67.978zm7.79-60.598h22.756v53.22h-8.73l-8.718 5.473-1.587-5.46-3.72-.012v-53.22zM46.818 43.162h-16.35c.545-8.467.687-16.12.687-22.955h15.987s.615-7.05-2.68-6.97H16.807c1.09-4.1 2.46-8.332 4.1-12.708 0 0-7.523 0-10.085 6.74-1.06 2.78-4.128 13.48-9.592 24.41 1.84-.2 7.927-.37 11.512-6.94.66-1.84.785-2.08 1.605-4.54h9.02c0 3.28-.374 20.9-.526 22.95H6.51c-3.67 0-4.863 7.38-4.863 7.38H22.14C20.765 66.11 13.385 79.24 0 89.62c6.403 1.828 12.784-.29 15.937-3.094 0 0 7.182-6.53 11.12-21.64L43.92 85.18s2.473-8.402-.388-12.496c-2.37-2.788-8.768-10.33-11.496-13.064l-4.57 3.627c1.363-4.368 2.183-8.61 2.46-12.71H49.19s-.027-7.38-2.372-7.38zm128.752-.502c6.51-8.013 14.054-18.302 14.054-18.302s-5.827-4.625-8.556-1.27c-1.874 2.548-11.51 15.063-11.51 15.063l6.012 4.51zm-46.903-18.462c-2.814-2.577-8.096.667-8.096.667s12.35 17.2 12.85 17.953l6.08-4.29s-8.02-11.752-10.83-14.33zM199.99 46.5c-6.18 0-40.908.292-40.953.292v-31.56c1.503 0 3.882-.124 7.14-.376 12.773-.753 21.914-1.25 27.427-1.504 0 0 3.817-8.496-.185-10.45-.96-.37-7.24 1.43-7.24 1.43s-51.63 5.153-72.61 5.64c.5 2.756 2.38 5.336 4.93 6.11 4.16 1.087 7.09.53 15.36.277 7.76-.5 13.65-.76 17.66-.76v31.19h-41.71s.88 6.97 7.97 7.14h33.73v22.16c0 4.364-3.498 6.87-7.65 6.6-4.4.034-8.15-.36-13.027-.566.623 1.24 1.977 4.496 6.035 6.824 3.087 1.502 5.054 2.053 8.13 2.053 9.237 0 14.27-5.4 14.027-14.16V53.93h38.235c3.026 0 2.72-7.432 2.72-7.432z" fill-rule="evenodd"/></g></svg></a><nav role="navigation" class="AppHeader-nav" data-reactid="13"><a class="AppHeader-navItem" href="/" data-reactid="14">首页</a><a class="AppHeader-navItem" href="/explore" data-reactid="15">发现</a><a class="AppHeader-navItem" href="/topic" data-reactid="16">话题</a></nav><div class="SearchBar" role="search" data-reactid="17"><div class="SearchBar-toolWrapper" data-reactid="18"><form class="SearchBar-tool" data-reactid="19"><div data-reactid="20"><div class="Popover" data-reactid="21"><div class="SearchBar-input Input-wrapper Input-wrapper--grey" data-reactid="22"><input type="text" maxlength="100" value="" autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="null--1" id="null-toggle" aria-haspopup="true" aria-owns="null-content" class="Input" placeholder="搜索你感兴趣的内容…" data-reactid="23"/><div class="Input-after" data-reactid="24"><button class="Button SearchBar-searchIcon Button--primary" aria-label="搜索" type="button" data-reactid="25"><svg viewBox="0 0 16 16" class="Icon Icon--search" style="height:16px;width:16px;" width="16" height="16" aria-hidden="true" data-reactid="26"><title data-reactid="27"></title><g data-reactid="28"><path d="M12.054 10.864c.887-1.14 1.42-2.57 1.42-4.127C13.474 3.017 10.457 0 6.737 0S0 3.016 0 6.737c0 3.72 3.016 6.737 6.737 6.737 1.556 0 2.985-.533 4.127-1.42l3.103 3.104c.765.46 1.705-.37 1.19-1.19l-3.103-3.104zm-5.317.925c-2.786 0-5.053-2.267-5.053-5.053S3.95 1.684 6.737 1.684 11.79 3.95 11.79 6.737 9.522 11.79 6.736 11.79z"/></g></svg></button></div></div><!-- react-empty: 29 --></div></div></form></div></div><div class="AppHeader-userInfo" data-reactid="30"><!-- react-empty: 31 --><div class="AppHeader-profile" data-reactid="32"><div data-reactid="33"><button class="Button AppHeader-login Button--blue" type="button" data-reactid="34"><!-- react-text: 35 -->登录<!-- /react-text --></button><button class="Button Button--primary Button--blue" type="button" data-reactid="36"><!-- react-text: 37 -->加入知乎<!-- /react-text --></button></div></div></div></div></header></div><!-- react-empty: 38 --><main role="main" class="App-main" data-reactid="39"><div class="QuestionPage" itemscope="" itemtype="http://schema.org/Question" data-reactid="40"><!-- react-empty: 41 --><meta itemprop="name" content="当一个颜值很高的程序员是怎样一番体验？" data-reactid="42"/><meta itemprop="url" content="https://www.zhihu.com/question/37787176" data-reactid="43"/><meta itemprop="keywords" content="程序员,提升自信,X 是种怎样的体验" data-reactid="44"/><meta itemprop="answerCount" content="2089" data-reactid="45"/><meta itemprop="commentCount" content="142" data-reactid="46"/><meta itemprop="dateCreated" content="2015-11-23T03:03:10.000Z" data-reactid="47"/><meta itemprop="dateModified" content="2016-01-14T07:42:12.000Z" data-reactid="48"/><meta itemprop="zhihu:visitsCount" data-reactid="49"/><meta itemprop="zhihu:followerCount" content="19876" data-reactid="50"/><div data-zop-question="{&quot;title&quot;:&quot;当一个颜值很高的程序员是怎样一番体验？&quot;,&quot;topics&quot;:[{&quot;name&quot;:&quot;程序员&quot;,&quot;id&quot;:&quot;19552330&quot;},{&quot;name&quot;:&quot;提升自信&quot;,&quot;id&quot;:&quot;19887142&quot;},{&quot;name&quot;:&quot;X 是种怎样的体验&quot;,&quot;id&quot;:&quot;20011035&quot;}],&quot;id&quot;:37787176,&quot;isEditable&quot;:false}" data-reactid="51"><!-- react-empty: 52 --><div class="QuestionHeader" data-reactid="53"><div class="QuestionHeader-content" data-reactid="54"><div class="QuestionHeader-main" data-reactid="55"><div class="QuestionHeader-tags" data-reactid="56"><div class="QuestionHeader-topics" data-reactid="57"><div class="Tag QuestionTopic" data-reactid="58"><span class="Tag-content" data-reactid="59"><a class="TopicLink" href="/topic/19552330" data-reactid="60"><div class="Popover" data-reactid="61"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="62">程序员</div><!-- react-empty: 63 --></div></a></span></div><div class="Tag QuestionTopic" data-reactid="64"><span class="Tag-content" data-reactid="65"><a class="TopicLink" href="/topic/19887142" data-reactid="66"><div class="Popover" data-reactid="67"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="68">提升自信</div><!-- react-empty: 69 --></div></a></span></div><div class="Tag QuestionTopic" data-reactid="70"><span class="Tag-content" data-reactid="71"><a class="TopicLink" href="/topic/20011035" data-reactid="72"><div class="Popover" data-reactid="73"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="74">X 是种怎样的体验</div><!-- react-empty: 75 --></div></a></span></div></div></div><h1 class="QuestionHeader-title" data-reactid="76"><!-- react-text: 77 -->当一个颜值很高的程序员是怎样一番体验？<!-- /react-text --></h1><div class="QuestionHeader-detail" data-reactid="78"><div class="QuestionRichText QuestionRichText--expandable QuestionRichText--collapsed" data-reactid="79"><div data-reactid="80"><span data-reactid="81"></span><button class="Button QuestionRichText-more Button--plain" type="button" data-reactid="82"><!-- react-text: 83 -->显示全部<!-- /react-text --><svg viewBox="0 0 10 6" class="Icon QuestionRichText-more-icon Icon--arrow" style="height:16px;width:10px;" width="10" height="16" aria-hidden="true" data-reactid="84"><title data-reactid="85"></title><g data-reactid="86"><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"/></g></svg></button></div></div></div></div><div class="QuestionHeader-side" data-reactid="87"><div class="QuestionHeader-follow-status" data-reactid="88"><div class="QuestionFollowStatus" data-reactid="89"><div class="NumberBoard QuestionFollowStatus-counts" data-reactid="90"><div class="NumberBoard-item" data-reactid="91"><div class="NumberBoard-name" data-reactid="92">关注者</div><div class="NumberBoard-value" data-reactid="93">19876</div></div><div class="NumberBoard-divider" data-reactid="94"></div><div class="NumberBoard-item" data-reactid="95"><div class="NumberBoard-name" data-reactid="96">被浏览</div><div class="NumberBoard-value" data-reactid="97">10544243</div></div></div><!-- react-empty: 98 --></div></div></div></div><div class="QuestionHeader-footer" data-reactid="99"><div class="QuestionHeader-footer-inner" data-reactid="100"><div class="QuestionHeader-main QuestionHeader-footer-main" data-reactid="101"><div class="QuestionHeaderActions" data-reactid="102"><div class="QuestionHeader-Comment" data-reactid="103"><button class="Button Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="104"><span style="display:inline-flex;align-items:center;" data-reactid="105"><!-- react-text: 106 -->​<!-- /react-text --><svg class="Zi Zi--Comment Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="107"><path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z" fill-rule="evenodd" data-reactid="108"></path></svg></span><!-- react-text: 109 -->142 条评论<!-- /react-text --><!-- react-empty: 110 --></button></div><div class="Popover ShareMenu" data-reactid="111"><div class="" id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="112"><button class="Button Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="113"><span style="display:inline-flex;align-items:center;" data-reactid="114"><!-- react-text: 115 -->​<!-- /react-text --><svg class="Zi Zi--Share Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="116"><path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z" fill-rule="evenodd" data-reactid="117"></path></svg></span><!-- react-text: 118 -->分享<!-- /react-text --></button></div><!-- react-empty: 119 --></div><button class="Button Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="120"><span style="display:inline-flex;align-items:center;" data-reactid="121"><!-- react-text: 122 -->​<!-- /react-text --><svg class="Zi Zi--Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="123"><path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd" data-reactid="124"></path></svg></span><!-- react-text: 125 -->邀请回答<!-- /react-text --></button><div class="Popover" data-reactid="126"><button class="Button Button--plain Button--withIcon Button--iconOnly" aria-label="更多" type="button" id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="127"><span style="display:inline-flex;align-items:center;" data-reactid="128"><!-- react-text: 129 -->​<!-- /react-text --><svg class="Zi Zi--Dots Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="130"><path d="M5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill-rule="evenodd" data-reactid="131"></path></svg></span></button><!-- react-empty: 132 --></div><!-- react-empty: 133 --><!-- react-empty: 134 --><!-- react-empty: 135 --><!-- react-empty: 136 --><!-- react-empty: 137 --></div><div class="QuestionHeader-actions" data-reactid="138"></div></div><div class="QuestionHeader-side" data-reactid="139"><div class="QuestionButtonGroup" data-reactid="140"><button class="Button FollowButton Button--primary Button--blue" type="button" data-reactid="141"><!-- react-text: 142 -->关注问题<!-- /react-text --></button><button class="Button Button--blue" type="button" data-reactid="143"><svg viewBox="0 0 12 12" class="Icon Button-icon Icon--modify" style="height:16px;width:14px;" width="14" height="16" aria-hidden="true" data-reactid="144"><title data-reactid="145"></title><g data-reactid="146"><path d="M.423 10.32L0 12l1.667-.474 1.55-.44-2.4-2.33-.394 1.564zM10.153.233c-.327-.318-.85-.31-1.17.018l-.793.817 2.49 2.414.792-.814c.318-.328.312-.852-.017-1.17l-1.3-1.263zM3.84 10.536L1.35 8.122l6.265-6.46 2.49 2.414-6.265 6.46z" fill-rule="evenodd"/></g></svg><!-- react-text: 147 -->写回答<!-- /react-text --></button></div></div></div></div></div><div data-reactid="148"><div data-reactid="149"><div class="Sticky" data-reactid="150"></div></div></div></div><div class="Question-main" data-reactid="151"><div class="Question-mainColumn" data-reactid="152"><div data-reactid="153"><div id="QuestionAnswers-answers" class="QuestionAnswers-answers" data-zop-feedlistmap="0,0,1,0" data-reactid="154"><div class="Card" data-reactid="155"><div class="List" data-reactid="156"><div class="List-header" data-reactid="157"><h4 class="List-headerText" data-reactid="158"><span data-reactid="159"><!-- react-text: 160 -->2089<!-- /react-text --><!-- react-text: 161 --> 个回答<!-- /react-text --></span></h4><div class="List-headerOptions" data-reactid="162"><div class="Popover" data-reactid="163"><button class="Button Select-button Select-plainButton Button--plain" role="combobox" aria-expanded="false" type="button" id="null-toggle" aria-haspopup="true" aria-owns="null-content" data-reactid="164"><!-- react-text: 165 -->默认排序<!-- /react-text --><span style="display:inline-flex;align-items:center;" data-reactid="166"><!-- react-text: 167 -->​<!-- /react-text --><svg class="Zi Zi--Select Select-arrow" fill="#9fadc7" viewBox="0 0 24 24" width="24" height="24" data-reactid="168"><path d="M12 16.183l2.716-2.966a.757.757 0 0 1 1.064.001.738.738 0 0 1 0 1.052l-3.247 3.512a.758.758 0 0 1-1.064 0L8.22 14.27a.738.738 0 0 1 0-1.052.758.758 0 0 1 1.063 0L12 16.183zm0-9.365L9.284 9.782a.758.758 0 0 1-1.064 0 .738.738 0 0 1 0-1.052l3.248-3.512a.758.758 0 0 1 1.065 0L15.78 8.73a.738.738 0 0 1 0 1.052.757.757 0 0 1-1.063.001L12 6.818z" fill-rule="evenodd" data-reactid="169"></path></svg></span></button><!-- react-empty: 170 --></div></div></div><div data-reactid="171"><div class="List-item" data-reactid="172"><div class="ContentItem AnswerItem" data-za-index="0" data-zop="{&quot;authorName&quot;:&quot;蓝色&quot;,&quot;itemId&quot;:81607754,&quot;title&quot;:&quot;当一个颜值很高的程序员是怎样一番体验？&quot;,&quot;type&quot;:&quot;answer&quot;}" name="81607754" itemprop="acceptedAnswer" itemtype="http://schema.org/Answer" itemscope="" data-reactid="173"><div class="ContentItem-meta" data-reactid="174"><div class="AnswerItem-meta AnswerItem-meta--related" data-reactid="175"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person" data-reactid="176"><meta itemprop="name" content="蓝色" data-reactid="177"/><meta itemprop="image" content="https://pic2.zhimg.com/50/v2-cf360b4bde84dcbf9e338ff04a293ea5_hd.jpg" data-reactid="178"/><meta itemprop="url" content="https://www.zhihu.com/people/lan-se-52-30" data-reactid="179"/><meta itemprop="zhihu:followerCount" content="56894" data-reactid="180"/><span class="UserLink AuthorInfo-avatarWrapper" data-reactid="181"><div class="Popover" data-reactid="182"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="183"><a class="UserLink-link" data-za-detail-view-element_name="User" href="/people/lan-se-52-30" data-reactid="184"><img class="Avatar AuthorInfo-avatar" width="38" height="38" src="https://pic2.zhimg.com/50/v2-cf360b4bde84dcbf9e338ff04a293ea5_xs.jpg" srcset="https://pic2.zhimg.com/50/v2-cf360b4bde84dcbf9e338ff04a293ea5_l.jpg 2x" alt="蓝色" data-reactid="185"/></a></div><!-- react-empty: 186 --></div></span><div class="AuthorInfo-content" data-reactid="187"><div class="AuthorInfo-head" data-reactid="188"><span class="UserLink AuthorInfo-name" data-reactid="189"><div class="Popover" data-reactid="190"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="191"><a class="UserLink-link" data-za-detail-view-element_name="User" href="/people/lan-se-52-30" data-reactid="192">蓝色</a></div><!-- react-empty: 193 --></div><a class="UserLink-badge" href="/question/48509984" target="_blank" data-tooltip="优秀回答者" data-reactid="194"><svg viewBox="0 0 20 20" class="Icon Icon--badgeGlorious" style="height:16px;width:16px;" width="16" height="16" aria-hidden="true" data-reactid="195"><title data-reactid="196">用户标识</title><g data-reactid="197"><g fill="none" fill-rule="evenodd">     <path d="M.64 11.39c1.068.895 1.808 2.733 1.66 4.113l.022-.196c-.147 1.384.856 2.4 2.24 2.278l-.198.016c1.387-.12 3.21.656 4.083 1.735l-.125-.154c.876 1.085 2.304 1.093 3.195.028l-.127.152c.895-1.068 2.733-1.808 4.113-1.66l-.198-.022c1.386.147 2.402-.856 2.28-2.238l.016.197c-.12-1.388.656-3.212 1.735-4.084l-.154.125c1.084-.876 1.093-2.304.028-3.195l.152.127c-1.068-.895-1.808-2.732-1.66-4.113l-.022.198c.147-1.386-.856-2.4-2.24-2.28l.198-.016c-1.387.122-3.21-.655-4.083-1.734l.125.153C10.802-.265 9.374-.274 8.483.79L8.61.64c-.895 1.068-2.733 1.808-4.113 1.662l.198.02c-1.386-.147-2.4.857-2.28 2.24L2.4 4.363c.12 1.387-.656 3.21-1.735 4.084l.154-.126C-.265 9.2-.274 10.626.79 11.517L.64 11.39z" fill="#FF9500"/>     <path d="M10.034 12.96L7.38 14.58c-.47.286-.747.09-.618-.45l.72-3.024-2.36-2.024c-.418-.357-.318-.68.235-.725l3.1-.25 1.195-2.87c.21-.508.55-.513.763 0l1.195 2.87 3.1.25c.547.043.657.365.236.725l-2.362 2.024.72 3.025c.13.535-.143.74-.616.45l-2.654-1.62z" fill="#FFF"/>   </g></g></svg></a></span></div><div class="AuthorInfo-detail" data-reactid="198"><div class="AuthorInfo-badge" data-reactid="199"><div class="AuthorInfo-badgeText" data-reactid="200"><span data-reactid="201"><span data-reactid="202"><a href="/people/lan-se-52-30/answers/topic/19584970" data-reactid="203">C++</a><!-- react-text: 204 -->、<!-- /react-text --></span><span data-reactid="205"><a href="/people/lan-se-52-30/answers/topic/19554298" data-reactid="206">编程</a><!-- react-text: 207 -->、<!-- /react-text --></span><span data-reactid="208"><a href="/people/lan-se-52-30/answers/topic/19552826" data-reactid="209">编程语言</a><!-- react-text: 210 --> <!-- /react-text --></span><button class="Button Button--plain" type="button" data-reactid="211"><!-- react-text: 212 -->等 4 个<!-- /react-text --></button><!-- react-text: 213 -->话题<!-- /react-text --></span><!-- react-text: 214 -->的<!-- /react-text --><!-- react-text: 215 -->优秀回答者<!-- /react-text --></div></div></div></div></div><div class="AnswerItem-extraInfo" data-reactid="216"><span class="Voters" data-reactid="217"><button class="Button Button--plain" type="button" data-reactid="218"><!-- react-text: 219 -->5140 人赞同了该回答<!-- /react-text --></button><!-- react-empty: 220 --></span></div></div></div><meta itemprop="image" content="https://pic4.zhimg.com/1a571fc177be7df4e39cbf3d4f8581c7_200x112.jpg" data-reactid="221"/><meta itemprop="upvoteCount" content="5140" data-reactid="222"/><meta itemprop="url" content="https://www.zhihu.com/question/37787176/answer/81607754" data-reactid="223"/><meta itemprop="dateCreated" content="2016-01-14T17:04:47.000Z" data-reactid="224"/><meta itemprop="dateModified" content="2016-01-14T17:32:35.000Z" data-reactid="225"/><meta itemprop="commentCount" content="626" data-reactid="226"/><div class="RichContent RichContent--unescapable" data-reactid="227"><div class="RichContent-inner" data-reactid="228"><span class="RichText CopyrightRichText-richText" itemprop="text" data-reactid="229"><div class="highlight"><pre><code class="language-python"><span></span><span class="ch">#! /usr/bin/env python</span>
<span class="kn">from</span> <span class="nn">urlparse</span> <span class="kn">import</span> <span class="n">urlsplit</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">basename</span>
<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>


<span class="n">url</span> <span class="o">=</span> <span class="s1">'https://www.zhihu.com/question/37787176'</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">'images'</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">"images"</span><span class="p">)</span>

<span class="n">page_size</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">url_content</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">answers</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">'h3 data-num="(.*?)"'</span><span class="p">,</span> <span class="n">url_content</span><span class="p">)</span>
<span class="n">limits</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">answers</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="k">while</span> <span class="n">offset</span> <span class="o">&lt;</span> <span class="n">limits</span><span class="p">:</span>
    <span class="n">post_url</span> <span class="o">=</span> <span class="s2">"http://www.zhihu.com/node/QuestionAnswerListV2"</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
        <span class="s1">'url_token'</span><span class="p">:</span> <span class="mi">37787176</span><span class="p">,</span>
        <span class="s1">'pagesize'</span><span class="p">:</span> <span class="n">page_size</span><span class="p">,</span>
        <span class="s1">'offset'</span><span class="p">:</span> <span class="n">offset</span>
    <span class="p">})</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'_xsrf'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
        <span class="s1">'method'</span><span class="p">:</span> <span class="s1">'next'</span><span class="p">,</span>
        <span class="s1">'params'</span><span class="p">:</span> <span class="n">params</span>
    <span class="p">}</span>
    <span class="n">header</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'User-Agent'</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:34.0) Gecko/20100101 Firefox/34.0"</span><span class="p">,</span>
        <span class="s1">'Host'</span><span class="p">:</span> <span class="s2">"www.zhihu.com"</span><span class="p">,</span>
        <span class="s1">'Referer'</span><span class="p">:</span> <span class="n">url</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">post_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
    <span class="n">answer_list</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">"msg"</span><span class="p">]</span>
    <span class="n">img_urls</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">'img .*?src="(.*?_b.*?)"'</span><span class="p">,</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">answer_list</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">img_url</span> <span class="ow">in</span> <span class="n">img_urls</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">img_data</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">img_url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="n">file_name</span> <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">img_url</span><span class="p">)[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">output</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'images/'</span> <span class="o">+</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span>
            <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">img_data</span><span class="p">)</span>
            <span class="n">output</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="n">offset</span> <span class="o">+=</span> <span class="n">page_size</span>
</code></pre></div><br><noscript><img src="https://pic4.zhimg.com/50/1a571fc177be7df4e39cbf3d4f8581c7_hd.png" data-rawwidth="377" data-rawheight="488" class="content_image" width="377"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='377'%20height='488'&gt;&lt;/svg&gt;" data-rawwidth="377" data-rawheight="488" class="content_image lazy" width="377" data-actualsrc="https://pic4.zhimg.com/50/1a571fc177be7df4e39cbf3d4f8581c7_hd.png"><br><br><noscript><img src="https://pic1.zhimg.com/50/27a1a0c48a799f60b655d8949879949c_hd.png" data-rawwidth="226" data-rawheight="223" class="content_image" width="226"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='226'%20height='223'&gt;&lt;/svg&gt;" data-rawwidth="226" data-rawheight="223" class="content_image lazy" width="226" data-actualsrc="https://pic1.zhimg.com/50/27a1a0c48a799f60b655d8949879949c_hd.png"></span><!-- react-empty: 230 --></div><div data-reactid="231"><div class="ContentItem-time" data-reactid="232"><a target="_blank" href="/question/37787176/answer/81607754" data-reactid="233"><span data-tooltip="发布于 2016-01-15" data-reactid="234"><!-- react-text: 235 -->编辑于 <!-- /react-text --><!-- react-text: 236 -->2016-01-15<!-- /react-text --></span></a></div></div><div class="ContentItem-actions RichContent-actions" data-reactid="237"><span data-reactid="238"><button class="Button VoteButton VoteButton--up" aria-label="赞同" type="button" data-reactid="239"><svg viewBox="0 0 20 18" class="Icon VoteButton-upIcon Icon--triangle" style="height:16px;width:9px;" width="9" height="16" aria-hidden="true" data-reactid="240"><title data-reactid="241"></title><g data-reactid="242"><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"/></g></svg><!-- react-text: 243 -->5.1K<!-- /react-text --></button><button class="Button VoteButton VoteButton--down" aria-label="反对" type="button" data-reactid="244"><svg viewBox="0 0 20 18" class="Icon VoteButton-downIcon Icon--triangle" style="height:16px;width:9px;" width="9" height="16" aria-hidden="true" data-reactid="245"><title data-reactid="246"></title><g data-reactid="247"><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"/></g></svg></button></span><button class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="248"><span style="display:inline-flex;align-items:center;" data-reactid="249"><!-- react-text: 250 -->​<!-- /react-text --><svg class="Zi Zi--Comment Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="251"><path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z" fill-rule="evenodd" data-reactid="252"></path></svg></span><!-- react-text: 253 -->626 条评论<!-- /react-text --></button><div class="Popover ShareMenu ContentItem-action" data-reactid="254"><div class="" id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="255"><button class="Button Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="256"><span style="display:inline-flex;align-items:center;" data-reactid="257"><!-- react-text: 258 -->​<!-- /react-text --><svg class="Zi Zi--Share Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="259"><path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z" fill-rule="evenodd" data-reactid="260"></path></svg></span><!-- react-text: 261 -->分享<!-- /react-text --></button></div><!-- react-empty: 262 --></div><button class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="263"><span style="display:inline-flex;align-items:center;" data-reactid="264"><!-- react-text: 265 -->​<!-- /react-text --><svg class="Zi Zi--Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="266"><path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd" data-reactid="267"></path></svg></span><!-- react-text: 268 -->收藏<!-- /react-text --></button><button class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="269"><span style="display:inline-flex;align-items:center;" data-reactid="270"><!-- react-text: 271 -->​<!-- /react-text --><svg class="Zi Zi--Heart Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="272"><path d="M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545 3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z" fill-rule="evenodd" data-reactid="273"></path></svg></span><!-- react-text: 274 -->感谢<!-- /react-text --></button><button class="Button ContentItem-action ContentItem-rightButton Button--plain" data-zop-retract-question="true" type="button" data-reactid="275"><span class="RichContent-collapsedText" data-reactid="276">收起</span><svg viewBox="0 0 10 6" class="Icon ContentItem-arrowIcon is-active Icon--arrow" style="height:16px;width:10px;" width="10" height="16" aria-hidden="true" data-reactid="277"><title data-reactid="278"></title><g data-reactid="279"><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"/></g></svg></button></div></div><!-- react-empty: 280 --><!-- react-empty: 281 --><!-- react-empty: 282 --><!-- react-empty: 283 --><!-- react-empty: 284 --><!-- react-empty: 285 --></div></div><div class="List-item" data-reactid="286"><div class="ContentItem AnswerItem" data-za-index="1" data-zop="{&quot;authorName&quot;:&quot;陈慕枫&quot;,&quot;itemId&quot;:224690910,&quot;title&quot;:&quot;当一个颜值很高的程序员是怎样一番体验？&quot;,&quot;type&quot;:&quot;answer&quot;}" name="224690910" itemprop="suggestedAnswer" itemtype="http://schema.org/Answer" itemscope="" data-reactid="287"><div class="ContentItem-meta" data-reactid="288"><div class="AnswerItem-meta AnswerItem-meta--related" data-reactid="289"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person" data-reactid="290"><meta itemprop="name" content="陈慕枫" data-reactid="291"/><meta itemprop="image" content="https://pic2.zhimg.com/50/v2-5a5a0346d79d8ef6557f2623cb0efdc1_hd.jpg" data-reactid="292"/><meta itemprop="url" content="https://www.zhihu.com/people/chen-mu-feng-11" data-reactid="293"/><meta itemprop="zhihu:followerCount" content="496" data-reactid="294"/><span class="UserLink AuthorInfo-avatarWrapper" data-reactid="295"><div class="Popover" data-reactid="296"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="297"><a class="UserLink-link" data-za-detail-view-element_name="User" href="/people/chen-mu-feng-11" data-reactid="298"><img class="Avatar AuthorInfo-avatar" width="38" height="38" src="https://pic2.zhimg.com/50/v2-5a5a0346d79d8ef6557f2623cb0efdc1_xs.jpg" srcset="https://pic2.zhimg.com/50/v2-5a5a0346d79d8ef6557f2623cb0efdc1_l.jpg 2x" alt="陈慕枫" data-reactid="299"/></a></div><!-- react-empty: 300 --></div></span><div class="AuthorInfo-content" data-reactid="301"><div class="AuthorInfo-head" data-reactid="302"><span class="UserLink AuthorInfo-name" data-reactid="303"><div class="Popover" data-reactid="304"><div id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="305"><a class="UserLink-link" data-za-detail-view-element_name="User" href="/people/chen-mu-feng-11" data-reactid="306">陈慕枫</a></div><!-- react-empty: 307 --></div></span></div><div class="AuthorInfo-detail" data-reactid="308"><div class="AuthorInfo-badge" data-reactid="309"><div class="RichText AuthorInfo-badgeText" data-reactid="310">Creating Stars</div></div></div></div></div><div class="AnswerItem-extraInfo" data-reactid="311"><span class="Voters" data-reactid="312"><button class="Button Button--plain" type="button" data-reactid="313"><!-- react-text: 314 -->3000 人赞同了该回答<!-- /react-text --></button><!-- react-empty: 315 --></span></div></div></div><meta itemprop="image" content="https://pic3.zhimg.com/v2-e31933ae5c79e190934dc872504a272a_200x112.jpg" data-reactid="316"/><meta itemprop="upvoteCount" content="3000" data-reactid="317"/><meta itemprop="url" content="https://www.zhihu.com/question/37787176/answer/224690910" data-reactid="318"/><meta itemprop="dateCreated" content="2017-09-03T05:16:38.000Z" data-reactid="319"/><meta itemprop="dateModified" content="2017-09-03T08:12:31.000Z" data-reactid="320"/><meta itemprop="commentCount" content="403" data-reactid="321"/><div class="RichContent RichContent--unescapable" data-reactid="322"><div class="RichContent-inner" data-reactid="323"><span class="RichText CopyrightRichText-richText" itemprop="text" data-reactid="324"><p>20170903 13:00</p><p>同java码农, 试着那个拿了8k赞的美女程序员 <a class="member_mention" href="https://www.zhihu.com/people/f9f9a7ac24672eac77dfd7c007785d08" data-hash="f9f9a7ac24672eac77dfd7c007785d08" data-hovercard="p$b$f9f9a7ac24672eac77dfd7c007785d08">@小仙女Albee</a> 的代码跑了下,发现缺了两个类..看了一圈评论都没人发现这个问题 (果然重点不是程序员是颜值).</p><p>做了些小改动,写了个能跑的代码.</p><div class="highlight"><pre><code class="language-java"><span></span><span class="kn">package</span> <span class="nn">webMagic</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.extern.slf4j.Slf4j</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.lang.math.RandomUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">us.codecraft.webmagic.Site</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">us.codecraft.webmagic.Spider</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">us.codecraft.webmagic.processor.PageProcessor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">us.codecraft.webmagic.selector.JsonPathSelector</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by Albee on 2017/4/13.</span>
<span class="cm"> * Optimized by Stephen Cai on 2017/9/3</span>
<span class="cm"> */</span>
<span class="nd">@Slf4j</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GetquestionUrlProcessor</span> <span class="kd">implements</span> <span class="n">PageProcessor</span> <span class="o">{</span>
	<span class="c1">// 设置编码 ，超时时间，重试次数，</span>
	<span class="kd">private</span> <span class="n">Site</span> <span class="n">site</span> <span class="o">=</span> <span class="n">Site</span><span class="o">.</span><span class="na">me</span><span class="o">().</span><span class="na">setRetryTimes</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">setSleepTime</span><span class="o">(</span><span class="mi">5000</span><span class="o">).</span><span class="na">setTimeOut</span><span class="o">(</span><span class="mi">5000</span><span class="o">)</span>
			<span class="o">.</span><span class="na">addCookie</span><span class="o">(</span><span class="s">"Domain"</span><span class="o">,</span> <span class="s">"zhihu.com"</span><span class="o">)</span>
			<span class="o">.</span><span class="na">addCookie</span><span class="o">(</span><span class="s">"z_c0"</span><span class="o">,</span> <span class="n">你的知乎cookie</span><span class="o">)</span>
			<span class="o">.</span><span class="na">setUserAgent</span><span class="o">(</span><span class="s">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36"</span><span class="o">);</span>
	<span class="c1">//问题的索引</span>
	<span class="c1">//https://www.zhihu.com/question/20902967</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">URL_question</span> <span class="o">=</span> <span class="s">"^https://www\\.zhihu\\.com/question/\\d+$"</span><span class="o">;</span>
	<span class="c1">//https://www.zhihu.com/question/19647535/answer/110944270</span>
	<span class="kd">private</span>  <span class="kd">static</span>  <span class="kd">final</span> <span class="n">String</span> <span class="n">URL_answer</span> <span class="o">=</span> <span class="s">"https://www\\.zhihu\\.com/question/\\d+/answer/\\d+"</span><span class="o">;</span>

	<span class="kd">private</span> <span class="kd">static</span>   <span class="n">String</span> <span class="n">questionId</span> <span class="o">=</span><span class="s">""</span> <span class="o">;</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">process</span><span class="o">(</span><span class="n">us</span><span class="o">.</span><span class="na">codecraft</span><span class="o">.</span><span class="na">webmagic</span><span class="o">.</span><span class="na">Page</span> <span class="n">page</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">//页面为问题页，则将答案链接循环加入Downloader</span>
		<span class="k">if</span><span class="o">(</span><span class="n">page</span><span class="o">.</span><span class="na">getUrl</span><span class="o">().</span><span class="na">regex</span><span class="o">(</span><span class="n">URL_question</span><span class="o">).</span><span class="na">match</span><span class="o">()){</span>
			<span class="kt">int</span> <span class="n">total</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">time</span> <span class="o">=</span> <span class="n">total</span><span class="o">/</span><span class="mi">20</span><span class="o">;</span>
			<span class="n">page</span><span class="o">.</span><span class="na">setCharset</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
			<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">time</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
				<span class="kt">int</span>  <span class="n">offset</span> <span class="o">=</span> <span class="n">i</span><span class="o">*</span><span class="mi">20</span><span class="o">;</span>
				<span class="kt">int</span> <span class="n">limit</span><span class="o">=</span> <span class="n">total</span><span class="o">&lt;(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">)*</span><span class="mi">20</span><span class="o">?</span><span class="n">total</span><span class="o">:((</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">)*</span><span class="mi">20</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
				<span class="n">String</span> <span class="n">url</span>  <span class="o">=</span><span class="s">"https://www.zhihu.com/api/v4/questions/"</span><span class="o">+</span><span class="n">questionId</span><span class="o">+</span><span class="s">"/answers?include=data%5B*%5D.is_normal%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Cmark_infos%2Ccreated_time%2Cupdated_time%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cupvoted_followees%3Bdata%5B*%5D.author.badge%5B%3F(type%3Dbest_answerer)%5D.topics&amp;offset="</span><span class="o">+</span><span class="n">offset</span><span class="o">+</span><span class="s">"&amp;limit="</span><span class="o">+</span><span class="n">limit</span><span class="o">+</span><span class="s">"&amp;sort_by=default"</span><span class="o">;</span>
				<span class="n">page</span><span class="o">.</span><span class="na">addTargetRequest</span><span class="o">(</span><span class="n">url</span><span class="o">);</span>
				<span class="n">page</span><span class="o">.</span><span class="na">getRequest</span><span class="o">().</span><span class="na">setCharset</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
			<span class="o">}</span>
			<span class="c1">//某个具体答案详情页面，则获取详情信息 。</span>
		<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">page</span><span class="o">.</span><span class="na">getUrl</span><span class="o">().</span><span class="na">regex</span><span class="o">(</span><span class="n">URL_answer</span><span class="o">).</span><span class="na">match</span><span class="o">()){</span>
			<span class="n">String</span> <span class="n">questionTitle</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="na">getHtml</span><span class="o">().</span><span class="na">xpath</span><span class="o">(</span><span class="s">"//h1[@class=QuestionHeader-title]/text()"</span><span class="o">).</span><span class="na">toString</span><span class="o">();</span>
			<span class="n">String</span> <span class="n">user_Avatar</span>  <span class="o">=</span>  <span class="n">page</span><span class="o">.</span><span class="na">getHtml</span><span class="o">().</span><span class="na">xpath</span><span class="o">(</span><span class="s">"//span[@class=AuthorInfo-avatarWrapper]//img/@src"</span><span class="o">).</span><span class="na">toString</span><span class="o">();</span>
			<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">urlList</span>  <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="na">getHtml</span><span class="o">().</span><span class="na">xpath</span><span class="o">(</span><span class="s">"//div[@class=RichContent-inner]//img/@src"</span><span class="o">).</span><span class="na">all</span><span class="o">();</span>
			<span class="n">String</span> <span class="n">filePath</span> <span class="o">=</span> <span class="n">你的目录</span><span class="o">;</span>
			<span class="n">String</span> <span class="n">title</span>  <span class="o">=</span>  <span class="n">questionTitle</span><span class="o">+</span><span class="s">"_"</span><span class="o">+</span><span class="n">user_Avatar</span><span class="o">;</span>
			<span class="kd">final</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">i</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">};</span>
			<span class="n">urlList</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">url</span> <span class="o">-&gt;</span> <span class="o">{</span>
					<span class="k">try</span> <span class="o">{</span>
						<span class="n">downloadPicture</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">filePath</span> <span class="o">,</span> <span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">RandomUtils</span><span class="o">.</span><span class="na">nextInt</span><span class="o">())</span>
								 <span class="o">+</span> <span class="n">url</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">url</span><span class="o">.</span><span class="na">lastIndexOf</span><span class="o">(</span><span class="s">"."</span><span class="o">),</span> <span class="n">url</span><span class="o">.</span><span class="na">length</span><span class="o">()));</span>
						<span class="n">i</span><span class="o">[</span><span class="mi">0</span><span class="o">]++;</span>
					<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
						<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
					<span class="o">}</span>
				<span class="o">});</span>

		<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
			<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">id</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JsonPathSelector</span><span class="o">(</span><span class="s">"$.data[*].id"</span><span class="o">).</span><span class="na">selectList</span><span class="o">(</span><span class="n">page</span><span class="o">.</span><span class="na">getRawText</span><span class="o">());</span>
			<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">id</span><span class="o">.</span><span class="na">size</span><span class="o">();</span><span class="n">i</span><span class="o">++){</span>
				<span class="n">String</span> <span class="n">answerUrl</span> <span class="o">=</span> <span class="s">"https://www.zhihu.com/question/"</span><span class="o">+</span><span class="n">questionId</span><span class="o">+</span><span class="s">"/answer/"</span><span class="o">+</span><span class="n">id</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
				<span class="n">page</span><span class="o">.</span><span class="na">addTargetRequest</span><span class="o">(</span><span class="n">answerUrl</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="n">Site</span> <span class="nf">getSite</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">site</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">downloadPicture</span><span class="o">(</span><span class="n">String</span> <span class="n">urlString</span><span class="o">,</span> <span class="n">String</span> <span class="n">savePath</span><span class="o">,</span> <span class="n">String</span> <span class="n">filename</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
		<span class="c1">// 构造URL</span>
		<span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">urlString</span><span class="o">);</span>
		<span class="c1">// 打开连接</span>
		<span class="n">URLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
		<span class="c1">//设置请求超时为5s</span>
		<span class="n">con</span><span class="o">.</span><span class="na">setConnectTimeout</span><span class="o">(</span><span class="mi">5</span><span class="o">*</span><span class="mi">1000</span><span class="o">);</span>
		<span class="c1">// 输入流</span>
		<span class="n">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>

		<span class="c1">// 1K的数据缓冲</span>
		<span class="kt">byte</span><span class="o">[]</span> <span class="n">bs</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">1024</span><span class="o">];</span>
		<span class="c1">// 读取到的数据长度</span>
		<span class="kt">int</span> <span class="n">len</span><span class="o">;</span>
		<span class="c1">// 输出的文件流</span>
		<span class="n">File</span> <span class="n">sf</span><span class="o">=</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">savePath</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span><span class="n">filename</span><span class="o">);</span>
<span class="c1">//		if(!sf.exists()){</span>
<span class="c1">//			sf.mkdirs();</span>
<span class="c1">//		}</span>
		<span class="n">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="n">sf</span><span class="o">);</span>
		<span class="c1">// 开始读取</span>
		<span class="k">while</span> <span class="o">((</span><span class="n">len</span> <span class="o">=</span> <span class="n">is</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">bs</span><span class="o">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">bs</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">len</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="c1">// 完毕，关闭所有链接</span>
		<span class="n">os</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="n">is</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

	<span class="o">}</span>


	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">questionId</span> <span class="o">=</span> <span class="s">"37787176"</span><span class="o">;</span>
		<span class="n">Site</span> <span class="n">site</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Site</span><span class="o">();</span>
		<span class="n">site</span><span class="o">.</span><span class="na">setCharset</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
		<span class="n">Spider</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">new</span> <span class="n">GetquestionUrlProcessor</span><span class="o">())</span>
				<span class="o">.</span><span class="na">addUrl</span><span class="o">(</span><span class="s">"https://www.zhihu.com/question/"</span><span class="o">+</span><span class="n">questionId</span><span class="o">)</span>
<span class="c1">//				.addPipeline(new GetquestionUrlPipeline())</span>
				<span class="o">.</span><span class="na">thread</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span>
				<span class="o">.</span><span class="na">run</span><span class="o">();</span>

	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>20170903 15:49 </p><p>爬某个用户所有回答中的图片的代码也写好了,顺便爬了下小仙女的图片,大家可以试试,代码里还有不少瑕疵,暂不做优化了.</p><div class="highlight"><pre><code class="language-java"><span></span><span class="kn">package</span> <span class="nn">webMagic</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.extern.slf4j.Slf4j</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.lang.math.RandomUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">us.codecraft.webmagic.Site</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">us.codecraft.webmagic.Spider</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">us.codecraft.webmagic.processor.PageProcessor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">us.codecraft.webmagic.selector.JsonPathSelector</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by Albee on 2017/4/13.</span>
<span class="cm"> * Optimized by Stephen Cai on 2017/9/3</span>
<span class="cm"> */</span>
<span class="nd">@Slf4j</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ZhihuHomePageProcessor</span> <span class="kd">implements</span> <span class="n">PageProcessor</span> <span class="o">{</span>
	<span class="c1">// 设置编码 ，超时时间，重试次数，</span>
	<span class="kd">private</span> <span class="n">Site</span> <span class="n">site</span> <span class="o">=</span> <span class="n">Site</span><span class="o">.</span><span class="na">me</span><span class="o">().</span><span class="na">setRetryTimes</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">setSleepTime</span><span class="o">(</span><span class="mi">5000</span><span class="o">).</span><span class="na">setTimeOut</span><span class="o">(</span><span class="mi">5000</span><span class="o">)</span>
			<span class="o">.</span><span class="na">addCookie</span><span class="o">(</span><span class="s">"Domain"</span><span class="o">,</span> <span class="s">"zhihu.com"</span><span class="o">)</span>
			<span class="o">.</span><span class="na">addCookie</span><span class="o">(</span><span class="s">"z_c0"</span><span class="o">,</span> <span class="n">你的cookie</span><span class="o">)</span>
			<span class="o">.</span><span class="na">setUserAgent</span><span class="o">(</span><span class="s">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36"</span><span class="o">);</span>


	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">URL_answer</span> <span class="o">=</span> <span class="s">"https://www\\.zhihu\\.com/question/\\d+/answer/\\d+"</span><span class="o">;</span>

	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">URL_ANSWERS</span> <span class="o">=</span> <span class="s">"https://www\\.zhihu\\.com/people/.*/answers"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">userName</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">process</span><span class="o">(</span><span class="n">us</span><span class="o">.</span><span class="na">codecraft</span><span class="o">.</span><span class="na">webmagic</span><span class="o">.</span><span class="na">Page</span> <span class="n">page</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">page</span><span class="o">.</span><span class="na">getUrl</span><span class="o">().</span><span class="na">regex</span><span class="o">(</span><span class="n">URL_ANSWERS</span><span class="o">).</span><span class="na">match</span><span class="o">())</span> <span class="o">{</span>
			<span class="kt">int</span> <span class="n">total</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">time</span> <span class="o">=</span> <span class="n">total</span> <span class="o">/</span> <span class="mi">20</span><span class="o">;</span>
			<span class="n">page</span><span class="o">.</span><span class="na">setCharset</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">time</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="kt">int</span> <span class="n">offset</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">20</span><span class="o">;</span>
				<span class="kt">int</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">total</span> <span class="o">&lt;</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="mi">20</span> <span class="o">?</span> <span class="n">total</span> <span class="o">:</span> <span class="o">((</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="mi">20</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
				<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://www.zhihu.com/api/v4/members/"</span> <span class="o">+</span> <span class="n">userName</span> <span class="o">+</span> <span class="s">"/answers?include=data%5B*%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Cmark_infos%2Ccreated_time%2Cupdated_time%2Creview_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cvoting%2Cis_author%2Cis_thanked%2Cis_nothelp%2Cupvoted_followees%3Bdata%5B*%5D.author.badge%5B%3F(type%3Dbest_answerer)%5D.topics&amp;offset="</span> <span class="o">+</span> <span class="n">offset</span> <span class="o">+</span> <span class="s">"&amp;limit="</span> <span class="o">+</span> <span class="n">limit</span> <span class="o">+</span> <span class="s">"&amp;sort_by=created"</span><span class="o">;</span>
				<span class="n">page</span><span class="o">.</span><span class="na">addTargetRequest</span><span class="o">(</span><span class="n">url</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">page</span><span class="o">.</span><span class="na">getUrl</span><span class="o">().</span><span class="na">regex</span><span class="o">(</span><span class="n">URL_answer</span><span class="o">).</span><span class="na">match</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">urlList</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="na">getHtml</span><span class="o">().</span><span class="na">xpath</span><span class="o">(</span><span class="s">"//div[@class=RichContent-inner]//img/@src"</span><span class="o">).</span><span class="na">all</span><span class="o">();</span>
			<span class="n">String</span> <span class="n">filePath</span> <span class="o">=</span><span class="n">你要存的路径</span><span class="o">+</span><span class="n">userName</span><span class="o">;</span>
			<span class="n">urlList</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">url</span> <span class="o">-&gt;</span> <span class="o">{</span>
				<span class="k">try</span> <span class="o">{</span>
					<span class="n">downloadPicture</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">filePath</span><span class="o">,</span> <span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">RandomUtils</span><span class="o">.</span><span class="na">nextInt</span><span class="o">())</span>
							<span class="o">+</span> <span class="n">url</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">url</span><span class="o">.</span><span class="na">lastIndexOf</span><span class="o">(</span><span class="s">"."</span><span class="o">),</span> <span class="n">url</span><span class="o">.</span><span class="na">length</span><span class="o">()));</span>
				<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
				<span class="o">}</span>
			<span class="o">});</span>
		<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
			<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">answerIds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JsonPathSelector</span><span class="o">(</span><span class="s">"$.data[*].id"</span><span class="o">).</span><span class="na">selectList</span><span class="o">(</span><span class="n">page</span><span class="o">.</span><span class="na">getRawText</span><span class="o">());</span>
			<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">questionIds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JsonPathSelector</span><span class="o">(</span><span class="s">"$.data[*].question.id"</span><span class="o">).</span><span class="na">selectList</span><span class="o">(</span><span class="n">page</span><span class="o">.</span><span class="na">getRawText</span><span class="o">());</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">answerIds</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">String</span> <span class="n">answerUrl</span> <span class="o">=</span> <span class="s">"https://www.zhihu.com/question/"</span> <span class="o">+</span> <span class="n">questionIds</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">+</span> <span class="s">"/answer/"</span> <span class="o">+</span> <span class="n">answerIds</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
				<span class="n">page</span><span class="o">.</span><span class="na">addTargetRequest</span><span class="o">(</span><span class="n">answerUrl</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="n">Site</span> <span class="nf">getSite</span><span class="o">()</span> <span class="o">{</span>

		<span class="k">return</span> <span class="n">site</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">downloadPicture</span><span class="o">(</span><span class="n">String</span> <span class="n">urlString</span><span class="o">,</span> <span class="n">String</span> <span class="n">savePath</span><span class="o">,</span> <span class="n">String</span> <span class="n">filename</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
		<span class="c1">// 构造URL</span>
		<span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">urlString</span><span class="o">);</span>
		<span class="c1">// 打开连接</span>
		<span class="n">URLConnection</span> <span class="n">con</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
		<span class="c1">//设置请求超时为5s</span>
		<span class="n">con</span><span class="o">.</span><span class="na">setConnectTimeout</span><span class="o">(</span><span class="mi">5</span> <span class="o">*</span> <span class="mi">1000</span><span class="o">);</span>
		<span class="c1">// 输入流</span>
		<span class="n">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>

		<span class="c1">// 1K的数据缓冲</span>
		<span class="kt">byte</span><span class="o">[]</span> <span class="n">bs</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">1024</span><span class="o">];</span>
		<span class="c1">// 读取到的数据长度</span>
		<span class="kt">int</span> <span class="n">len</span><span class="o">;</span>
		<span class="c1">// 输出的文件流</span>
		<span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">savePath</span> <span class="o">+</span>  <span class="s">"/"</span> <span class="o">+</span> <span class="n">filename</span><span class="o">);</span>
		<span class="k">if</span> <span class="o">(!</span><span class="n">file</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">file</span><span class="o">.</span><span class="na">getParentFile</span><span class="o">().</span><span class="na">mkdirs</span><span class="o">();</span>
			<span class="n">file</span><span class="o">.</span><span class="na">createNewFile</span><span class="o">();</span>
		<span class="o">}</span>
		<span class="n">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
		<span class="c1">// 开始读取</span>
		<span class="k">while</span> <span class="o">((</span><span class="n">len</span> <span class="o">=</span> <span class="n">is</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">bs</span><span class="o">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">bs</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">len</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="c1">// 完毕，关闭所有链接</span>
		<span class="n">os</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="n">is</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

	<span class="o">}</span>


	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">userName</span> <span class="o">=</span> <span class="s">"xiao-xian-nu-albee"</span><span class="o">;</span>
		<span class="c1">//个人主页的网址</span>
		<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://www.zhihu.com/people/xiao-xian-nu-albee/answers"</span><span class="o">;</span>
		<span class="n">Spider</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">new</span> <span class="n">ZhihuHomePageProcessor</span><span class="o">())</span>
				<span class="o">.</span><span class="na">addUrl</span><span class="o">(</span><span class="n">url</span><span class="o">)</span>
<span class="c1">//				.addPipeline(new GetquestionUrlPipeline())</span>
				<span class="o">.</span><span class="na">thread</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span>
				<span class="o">.</span><span class="na">run</span><span class="o">();</span>

	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p><br></p><p><br></p><noscript><img src="https://pic3.zhimg.com/50/v2-e31933ae5c79e190934dc872504a272a_hd.png" data-rawwidth="1690" data-rawheight="1054" class="origin_image zh-lightbox-thumb" width="1690" data-original="https://pic3.zhimg.com/v2-e31933ae5c79e190934dc872504a272a_r.png"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='1690'%20height='1054'&gt;&lt;/svg&gt;" data-rawwidth="1690" data-rawheight="1054" class="origin_image zh-lightbox-thumb lazy" width="1690" data-original="https://pic3.zhimg.com/v2-e31933ae5c79e190934dc872504a272a_r.png" data-actualsrc="https://pic3.zhimg.com/50/v2-e31933ae5c79e190934dc872504a272a_hd.png"><p><br></p><p>最后感谢下源码作者 <a class="member_mention" href="https://www.zhihu.com/people/b535f4d2681a32a2bfda66b4c2c83027" data-hash="b535f4d2681a32a2bfda66b4c2c83027" data-hovercard="p$b$b535f4d2681a32a2bfda66b4c2c83027">@黄亿华</a> <br>贴上webMagic github地址 <a href="https://link.zhihu.com/?target=https%3A//github.com/code4craft/webmagic" class=" wrap external" target="_blank" rel="nofollow noreferrer">code4craft/webmagic<i class="icon-external"></i></a></p></span><!-- react-empty: 325 --></div><div data-reactid="326"><div class="ContentItem-time" data-reactid="327"><a target="_blank" href="/question/37787176/answer/224690910" data-reactid="328"><span data-tooltip="发布于 2017-09-03" data-reactid="329"><!-- react-text: 330 -->编辑于 <!-- /react-text --><!-- react-text: 331 -->2017-09-03<!-- /react-text --></span></a></div></div><div class="ContentItem-actions RichContent-actions" data-reactid="332"><span data-reactid="333"><button class="Button VoteButton VoteButton--up" aria-label="赞同" type="button" data-reactid="334"><svg viewBox="0 0 20 18" class="Icon VoteButton-upIcon Icon--triangle" style="height:16px;width:9px;" width="9" height="16" aria-hidden="true" data-reactid="335"><title data-reactid="336"></title><g data-reactid="337"><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"/></g></svg><!-- react-text: 338 -->3K<!-- /react-text --></button><button class="Button VoteButton VoteButton--down" aria-label="反对" type="button" data-reactid="339"><svg viewBox="0 0 20 18" class="Icon VoteButton-downIcon Icon--triangle" style="height:16px;width:9px;" width="9" height="16" aria-hidden="true" data-reactid="340"><title data-reactid="341"></title><g data-reactid="342"><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"/></g></svg></button></span><button class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="343"><span style="display:inline-flex;align-items:center;" data-reactid="344"><!-- react-text: 345 -->​<!-- /react-text --><svg class="Zi Zi--Comment Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="346"><path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z" fill-rule="evenodd" data-reactid="347"></path></svg></span><!-- react-text: 348 -->403 条评论<!-- /react-text --></button><div class="Popover ShareMenu ContentItem-action" data-reactid="349"><div class="" id="null-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="null-content" data-reactid="350"><button class="Button Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="351"><span style="display:inline-flex;align-items:center;" data-reactid="352"><!-- react-text: 353 -->​<!-- /react-text --><svg class="Zi Zi--Share Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="354"><path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z" fill-rule="evenodd" data-reactid="355"></path></svg></span><!-- react-text: 356 -->分享<!-- /react-text --></button></div><!-- react-empty: 357 --></div><button class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="358"><span style="display:inline-flex;align-items:center;" data-reactid="359"><!-- react-text: 360 -->​<!-- /react-text --><svg class="Zi Zi--Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="361"><path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd" data-reactid="362"></path></svg></span><!-- react-text: 363 -->收藏<!-- /react-text --></button><button class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel" type="button" data-reactid="364"><span style="display:inline-flex;align-items:center;" data-reactid="365"><!-- react-text: 366 -->​<!-- /react-text --><svg class="Zi Zi--Heart Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-reactid="367"><path d="M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545 3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z" fill-rule="evenodd" data-reactid="368"></path></svg></span><!-- react-text: 369 -->感谢<!-- /react-text --></button><button class="Button ContentItem-action ContentItem-rightButton Button--plain" data-zop-retract-question="true" type="button" data-reactid="370"><span class="RichContent-collapsedText" data-reactid="371">收起</span><svg viewBox="0 0 10 6" class="Icon ContentItem-arrowIcon is-active Icon--arrow" style="height:16px;width:10px;" width="10" height="16" aria-hidden="true" data-reactid="372"><title data-reactid="373"></title><g data-reactid="374"><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"/></g></svg></button></div></div><!-- react-empty: 375 --><!-- react-empty: 376 --><!-- react-empty: 377 --><!-- react-empty: 378 --><!-- react-empty: 379 --><!-- react-empty: 380 --></div></div><!-- react-empty: 381 --></div></div></div><div class="Card" data-reactid="382"><button class="Button QuestionMainAction" type="button" data-reactid="383"><!-- react-text: 384 -->查看更多回答<!-- /react-text --></button></div></div><!-- react-empty: 385 --></div></div><!-- react-empty: 386 --></div><!-- react-empty: 387 --></div></main><!-- react-empty: 388 --><!-- react-empty: 389 --><!-- react-empty: 390 --><!-- react-empty: 391 --></div></div><div id="data" style="display:none;" data-state="{&quot;loading&quot;:{&quot;global&quot;:{&quot;count&quot;:0},&quot;local&quot;:{&quot;token/&quot;:false,&quot;env/getExperiments/&quot;:false,&quot;config/getAppConfig/&quot;:false,&quot;question/get/&quot;:false,&quot;question/getAnswers/37787176&quot;:false}},&quot;entities&quot;:{&quot;users&quot;:{},&quot;questions&quot;:{&quot;37787176&quot;:{&quot;status&quot;:{&quot;isLocked&quot;:false,&quot;isClose&quot;:false,&quot;isEvaluate&quot;:false,&quot;isSuggest&quot;:false},&quot;relationship&quot;:{&quot;concernedFollowers&quot;:[],&quot;isAnonymous&quot;:false,&quot;canLock&quot;:false,&quot;isFollowing&quot;:false,&quot;isAuthor&quot;:false,&quot;canCollapseAnswers&quot;:false,&quot;canStickAnswers&quot;:false},&quot;isMuted&quot;:false,&quot;topics&quot;:[{&quot;introduction&quot;:&quot;程序员可以指在程序设计与互联网某个专业领域中的专业人士或是从事软件撰写，程序开发、维护的专业人员。&quot;,&quot;avatarUrl&quot;:&quot;https://pic3.zhimg.com/50/acda162ad89c9b8995b51028d5233d1a_hd.jpg&quot;,&quot;name&quot;:&quot;程序员&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19552330&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;程序员可以指在程序设计与互联网某个专业领域中的专业人士或是从事软件撰写，程序开发、维护的专业人员。&quot;,&quot;id&quot;:&quot;19552330&quot;},{&quot;introduction&quot;:&quot;&quot;,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/50/e82bab09c_hd.jpg&quot;,&quot;name&quot;:&quot;提升自信&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19887142&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;&quot;,&quot;id&quot;:&quot;19887142&quot;},{&quot;introduction&quot;:&quot;问题句式为「X是种怎样的体验」或极相似格式的问题适合添加本话题。&quot;,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/50/7acb9d4ecf49197b403c7ba5908488e0_hd.jpg&quot;,&quot;name&quot;:&quot;X 是种怎样的体验&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/20011035&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;问题句式为「X是种怎样的体验」或极相似格式的问题适合添加本话题。&quot;,&quot;id&quot;:&quot;20011035&quot;}],&quot;excerpt&quot;:&quot;&quot;,&quot;adminClosedComment&quot;:false,&quot;isEditable&quot;:false,&quot;reviewInfo&quot;:{&quot;type&quot;:&quot;&quot;,&quot;tips&quot;:&quot;&quot;,&quot;editTips&quot;:&quot;&quot;,&quot;isReviewing&quot;:false},&quot;answerCount&quot;:2089,&quot;editableDetail&quot;:&quot;&quot;,&quot;visitCount&quot;:10544243,&quot;id&quot;:37787176,&quot;collapsedAnswerCount&quot;:140,&quot;author&quot;:{&quot;avatarUrlTemplate&quot;:&quot;https://pic1.zhimg.com/50/da8e974dc_hd.jpg&quot;,&quot;badge&quot;:[],&quot;name&quot;:&quot;知乎用户&quot;,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;isAdvertiser&quot;:false,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/50/da8e974dc_hd.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/0&quot;,&quot;type&quot;:&quot;people&quot;,&quot;id&quot;:&quot;5b24a1895965b95e1c59ce7f9c6d6dba&quot;},&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/questions/37787176&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;created&quot;:1448247790,&quot;detail&quot;:&quot;&quot;,&quot;updatedTime&quot;:1452757332,&quot;hasPublishingDraft&quot;:false,&quot;commentCount&quot;:142,&quot;questionType&quot;:&quot;normal&quot;,&quot;followerCount&quot;:19876,&quot;title&quot;:&quot;当一个颜值很高的程序员是怎样一番体验？&quot;,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;type&quot;:&quot;question&quot;,&quot;isNormal&quot;:true}},&quot;answers&quot;:{&quot;74823133&quot;:{&quot;suggestEdit&quot;:{&quot;status&quot;:false,&quot;reason&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;,&quot;url&quot;:&quot;&quot;,&quot;unnormalDetails&quot;:{},&quot;tip&quot;:&quot;&quot;},&quot;relationship&quot;:{&quot;upvotedFollowees&quot;:[],&quot;isAuthor&quot;:false,&quot;isNothelp&quot;:false,&quot;isAuthorized&quot;:false,&quot;voting&quot;:0,&quot;isThanked&quot;:false},&quot;editableContent&quot;:&quot;&quot;,&quot;markInfos&quot;:[],&quot;excerpt&quot;:&quot;受不了，不要强答，工程师也是见过女人的。 自我入行以来，关掉美图秀秀后真真称得上天然美女的，屈指可数，其中是程序员的，想来想去只有一个半。 看到我雷总殷切指导一线后辈的眼神么？ 张功，小米优秀前端工程师，自带buff，可100%消解小米网产品经理与…&quot;,&quot;annotationAction&quot;:[],&quot;adminClosedComment&quot;:false,&quot;collapsedBy&quot;:&quot;nobody&quot;,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;createdTime&quot;:1448980252,&quot;id&quot;:74823133,&quot;voteupCount&quot;:4208,&quot;collapseReason&quot;:&quot;&quot;,&quot;isCollapsed&quot;:false,&quot;isSticky&quot;:false,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/answers/74823133&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;author&quot;:{&quot;avatarUrlTemplate&quot;:&quot;https://pic1.zhimg.com/50/2b286de6b1f353116e4558482edab390_hd.jpg&quot;,&quot;badge&quot;:[],&quot;name&quot;:&quot;王子君&quot;,&quot;headline&quot;:&quot;手中钱腰间肉胯下屌，均不让我心安&quot;,&quot;gender&quot;:1,&quot;userType&quot;:&quot;people&quot;,&quot;isAdvertiser&quot;:false,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/50/2b286de6b1f353116e4558482edab390_hd.jpg&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/ed070c8e4188f1437a89d26851867f40&quot;,&quot;type&quot;:&quot;people&quot;,&quot;followerCount&quot;:121623,&quot;urlToken&quot;:&quot;nogirlnotalk&quot;,&quot;id&quot;:&quot;ed070c8e4188f1437a89d26851867f40&quot;,&quot;isOrg&quot;:false},&quot;question&quot;:{&quot;questionType&quot;:&quot;normal&quot;,&quot;created&quot;:1448247790,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/questions/37787176&quot;,&quot;title&quot;:&quot;当一个颜值很高的程序员是怎样一番体验？&quot;,&quot;type&quot;:&quot;question&quot;,&quot;id&quot;:37787176,&quot;updatedTime&quot;:1452757332},&quot;updatedTime&quot;:1449020810,&quot;content&quot;:&quot;受不了，不要强答，工程师也是见过女人的。&lt;br&gt;&lt;br&gt;自我入行以来，关掉美图秀秀后真真称得上天然美女的，屈指可数，其中是程序员的，想来想去只有一个半。&lt;br&gt;&lt;br&gt;&lt;noscript&gt;&lt;img data-rawwidth=\&quot;475\&quot; data-rawheight=\&quot;564\&quot; src=\&quot;https://pic1.zhimg.com/50/3f8a19ea8693cc5fa6324857c496ef40_hd.jpg\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;475\&quot; data-original=\&quot;https://pic1.zhimg.com/3f8a19ea8693cc5fa6324857c496ef40_r.jpg\&quot;&gt;&lt;/noscript&gt;&lt;img data-rawwidth=\&quot;475\&quot; data-rawheight=\&quot;564\&quot; src=\&quot;data:image/svg+xml;utf8,&amp;lt;svg%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20width=&#x27;475&#x27;%20height=&#x27;564&#x27;&amp;gt;&amp;lt;/svg&amp;gt;\&quot; class=\&quot;origin_image zh-lightbox-thumb lazy\&quot; width=\&quot;475\&quot; data-original=\&quot;https://pic1.zhimg.com/3f8a19ea8693cc5fa6324857c496ef40_r.jpg\&quot; data-actualsrc=\&quot;https://pic1.zhimg.com/50/3f8a19ea8693cc5fa6324857c496ef40_hd.jpg\&quot;&gt;&lt;br&gt;&lt;br&gt;看到我雷总殷切指导一线后辈的眼神么？&lt;br&gt;&lt;br&gt;张功，小米优秀前端工程师，自带buff，可100%消解小米网产品经理与策划心中的怨气。夜半加班无妆状态就是这个水平，连角度都不用找，比你们堆一脸粉再调角度咔嚓后再磨皮的不知道高到哪里去了。&lt;br&gt;&lt;br&gt;笑什么笑，你跺你也麻。&lt;br&gt;&lt;br&gt;&lt;noscript&gt;&lt;img data-rawwidth=\&quot;960\&quot; data-rawheight=\&quot;1280\&quot; src=\&quot;https://pic4.zhimg.com/50/f962fbb092f6c9876715fd3cffe11317_hd.jpg\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;960\&quot; data-original=\&quot;https://pic4.zhimg.com/f962fbb092f6c9876715fd3cffe11317_r.jpg\&quot;&gt;&lt;/noscript&gt;&lt;img data-rawwidth=\&quot;960\&quot; data-rawheight=\&quot;1280\&quot; src=\&quot;data:image/svg+xml;utf8,&amp;lt;svg%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20width=&#x27;960&#x27;%20height=&#x27;1280&#x27;&amp;gt;&amp;lt;/svg&amp;gt;\&quot; class=\&quot;origin_image zh-lightbox-thumb lazy\&quot; width=\&quot;960\&quot; data-original=\&quot;https://pic4.zhimg.com/f962fbb092f6c9876715fd3cffe11317_r.jpg\&quot; data-actualsrc=\&quot;https://pic4.zhimg.com/50/f962fbb092f6c9876715fd3cffe11317_hd.jpg\&quot;&gt;&lt;br&gt;&lt;br&gt;粗粮镇店之宝，微博名在上图右下角，嫌照片少的请自行痴汉。（理科生也要恶补阅读理解啊，说素颜的是接受雷总指导的那一张！）&lt;br&gt;&lt;br&gt;另外那个半个，是现在已经颇具名气的平面模特，晁然。&lt;br&gt;&lt;noscript&gt;&lt;img data-rawwidth=\&quot;750\&quot; data-rawheight=\&quot;1334\&quot; src=\&quot;https://pic2.zhimg.com/50/3e78c5c8b6e7143fb2e59cfd3d47dcfd_hd.jpg\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;750\&quot; data-original=\&quot;https://pic2.zhimg.com/3e78c5c8b6e7143fb2e59cfd3d47dcfd_r.jpg\&quot;&gt;&lt;/noscript&gt;&lt;img data-rawwidth=\&quot;750\&quot; data-rawheight=\&quot;1334\&quot; src=\&quot;data:image/svg+xml;utf8,&amp;lt;svg%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20width=&#x27;750&#x27;%20height=&#x27;1334&#x27;&amp;gt;&amp;lt;/svg&amp;gt;\&quot; class=\&quot;origin_image zh-lightbox-thumb lazy\&quot; width=\&quot;750\&quot; data-original=\&quot;https://pic2.zhimg.com/3e78c5c8b6e7143fb2e59cfd3d47dcfd_r.jpg\&quot; data-actualsrc=\&quot;https://pic2.zhimg.com/50/3e78c5c8b6e7143fb2e59cfd3d47dcfd_hd.jpg\&quot;&gt;&lt;br&gt;&lt;br&gt;请忽视我如此之渣的拍摄水平，不要怪罪摄影师。&lt;br&gt;&lt;br&gt;说半个是因为她计算机系毕业，程序员貌似就做了半年就转模特了。晁然接过淘宝支付宝十周年的广告，颜值如何自行判断。&lt;br&gt;&lt;br&gt;&lt;a href=\&quot;https://link.zhihu.com/?target=http%3A//v.youku.com/v_show/id_XNzQ4NzUyNjQ0.html%3Ffrom%3Ds7.8-1.2%26x\&quot; class=\&quot; external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;&lt;span class=\&quot;invisible\&quot;&gt;http://&lt;/span&gt;&lt;span class=\&quot;visible\&quot;&gt;v.youku.com/v_show/id_X&lt;/span&gt;&lt;span class=\&quot;invisible\&quot;&gt;NzQ4NzUyNjQ0.html?from=s7.8-1.2&amp;amp;x&lt;/span&gt;&lt;span class=\&quot;ellipsis\&quot;&gt;&lt;/span&gt;&lt;i class=\&quot;icon-external\&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;为什么我这么挺这两位姑娘？&lt;br&gt;&lt;br&gt;因为在这个照片等于照骗的世界里，我见过太多触目惊心的悲惨事实：照片和真人是两码事，化妆和卸妆是两码事。&lt;br&gt;&lt;br&gt;多少炮含着泪打，多少单咬着牙付，多少女神，看到卸妆水比看到硫酸还惊恐。&lt;br&gt;&lt;br&gt;这里面的故事，我就不多说了，你懂的。&lt;br&gt;&lt;br&gt;但是！&lt;br&gt;&lt;br&gt;这俩妹子！&lt;br&gt;&lt;br&gt;从素颜！到化妆！到拍摄！到修图！到卸妆！到蛋逼！到切图！到加班！&lt;br&gt;&lt;br&gt;我都全程盯着！&lt;br&gt;&lt;br&gt;真正美的表里如一，如假包换！&lt;br&gt;&lt;br&gt;I vouch for them！&lt;br&gt;&lt;br&gt;（有人说照片都有妆。旁友，拍平面前要化妆，化妆前要彻底卸妆，包括出门前的淡妆。我盯的是全程，自然能看到她们素颜的样子。这是阅读理解送分题。&lt;br&gt;&lt;br&gt;旁友，说到这你还要我上姑娘的素颜照，人家有男朋友的好嘛！当面拍素颜找打啊！我作为一位知乎早期的跨国老司机，你不信我，然后捏？）&lt;br&gt;&lt;br&gt;&lt;br&gt;多年以后，当我看着眼前经纪公司带来的模特时，仍会想起那个对着她俩按下快门的午后...&quot;,&quot;commentCount&quot;:380,&quot;extras&quot;:&quot;&quot;,&quot;reshipmentSettings&quot;:&quot;need_payment&quot;,&quot;rewardInfo&quot;:{&quot;rewardMemberCount&quot;:0,&quot;tagline&quot;:&quot;&quot;,&quot;rewardTotalMoney&quot;:0,&quot;canOpenReward&quot;:false,&quot;isRewardable&quot;:false},&quot;isCopyable&quot;:false,&quot;type&quot;:&quot;answer&quot;,&quot;thumbnail&quot;:&quot;https://pic1.zhimg.com/3f8a19ea8693cc5fa6324857c496ef40_200x112.jpg&quot;,&quot;isNormal&quot;:true},&quot;81607754&quot;:{&quot;suggestEdit&quot;:{&quot;status&quot;:false,&quot;reason&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;,&quot;url&quot;:&quot;&quot;,&quot;unnormalDetails&quot;:{},&quot;tip&quot;:&quot;&quot;},&quot;relationship&quot;:{&quot;upvotedFollowees&quot;:[],&quot;isAuthor&quot;:false,&quot;isNothelp&quot;:false,&quot;isAuthorized&quot;:false,&quot;voting&quot;:0,&quot;isThanked&quot;:false},&quot;editableContent&quot;:&quot;&quot;,&quot;markInfos&quot;:[],&quot;excerpt&quot;:&quot;#! /usr/bin/env python\nfrom urlparse import urlsplit\nfrom os.path import basename\nimport urllib2\nimport re\nimport requests\nimport os\nimport json\n\n\nurl = &#x27;https://www.zhihu.com/question/37787176&#x27;\n\nif not os.path.exists(&#x27;images&#x27;):\n os.mkdir…&quot;,&quot;annotationAction&quot;:[],&quot;adminClosedComment&quot;:false,&quot;collapsedBy&quot;:&quot;nobody&quot;,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;createdTime&quot;:1452791087,&quot;id&quot;:81607754,&quot;voteupCount&quot;:5140,&quot;collapseReason&quot;:&quot;&quot;,&quot;isCollapsed&quot;:false,&quot;isSticky&quot;:false,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/answers/81607754&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;author&quot;:{&quot;avatarUrlTemplate&quot;:&quot;https://pic2.zhimg.com/50/v2-cf360b4bde84dcbf9e338ff04a293ea5_hd.jpg&quot;,&quot;badge&quot;:[{&quot;topics&quot;:[{&quot;introduction&quot;:&quot;C++是一种使用非常广泛的计算机程序设计语言。它是一种静态数据类型（static data type）检查的，支持多范式（multi-paradigm）的通用程序设计语言。C++支持面向过程编程（Procedures Programming）、数据抽象化（Data Abstraction）、面向对象程序设计（Object-Oriented Programming）、泛型程序设计（Generic-Type Programming）、基于原则设计（Policy-Based Class Design）等多种程序设计风格。 (from Wikipedia)&quot;,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/50/9db7191dc_hd.jpg&quot;,&quot;name&quot;:&quot;C++&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19584970&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;C++是一种使用非常广泛的计算机程序设计语言。它是一种静态数据类型（static data type）检查的，支持多范式（multi-paradigm）的通用程序设计语言。C++支持面向过程编程（Procedures Programming）、数据抽象化（Data Abstraction）、面向对象程序设计（Object-Oriented Programming）、泛型程序设计（Generic-Type Programming）、基于原则设计（Policy-Based Class Design）等多种程序设计风格。 (from Wikipedia)&quot;,&quot;id&quot;:&quot;19584970&quot;},{&quot;introduction&quot;:&quot;人们为了让计算机解决各种棘手的问题，使用编程语言&lt;b&gt;编写程序代码&lt;/b&gt;并通过计算机运算得到最终结果的过程。&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/50/v2-4030982b9aed71d12b350a4c3ba5078d_hd.png&quot;,&quot;name&quot;:&quot;编程&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19554298&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;人们为了让计算机解决各种棘手的问题，使用编程语言编写程序代码并通过计算机运算得到最终结果的过程。&quot;,&quot;id&quot;:&quot;19554298&quot;},{&quot;introduction&quot;:&quot;程序设计语言( &lt;a href=\&quot;http://en.wikipedia.org/wiki/Programming_language\&quot; data-editable=\&quot;true\&quot; data-title=\&quot;Programming languages\&quot; class=\&quot;\&quot;&gt;Programming Languages&lt;/a&gt; )又称编程语言，是一组用来定义计算机程序的语法规则。&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/50/v2-28f2a03f5e9c4342c381eba43a95500d_hd.png&quot;,&quot;name&quot;:&quot;编程语言&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19552826&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;程序设计语言( Programming Languages )又称编程语言，是一组用来定义计算机程序的语法规则。&quot;,&quot;id&quot;:&quot;19552826&quot;},{&quot;introduction&quot;:&quot;&quot;,&quot;avatarUrl&quot;:&quot;https://pic3.zhimg.com/50/d806c5eee_hd.jpg&quot;,&quot;name&quot;:&quot;编译原理&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/topics/19601369&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;&quot;,&quot;id&quot;:&quot;19601369&quot;}],&quot;type&quot;:&quot;best_answerer&quot;,&quot;description&quot;:&quot;优秀回答者&quot;}],&quot;name&quot;:&quot;蓝色&quot;,&quot;headline&quot;:&quot;联系方式在我主页&quot;,&quot;gender&quot;:1,&quot;userType&quot;:&quot;people&quot;,&quot;isAdvertiser&quot;:false,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/50/v2-cf360b4bde84dcbf9e338ff04a293ea5_hd.jpg&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/745f68a74a02e49711cc097e1855b1e1&quot;,&quot;type&quot;:&quot;people&quot;,&quot;followerCount&quot;:56894,&quot;urlToken&quot;:&quot;lan-se-52-30&quot;,&quot;id&quot;:&quot;745f68a74a02e49711cc097e1855b1e1&quot;,&quot;isOrg&quot;:false},&quot;question&quot;:{&quot;questionType&quot;:&quot;normal&quot;,&quot;created&quot;:1448247790,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/questions/37787176&quot;,&quot;title&quot;:&quot;当一个颜值很高的程序员是怎样一番体验？&quot;,&quot;type&quot;:&quot;question&quot;,&quot;id&quot;:37787176,&quot;updatedTime&quot;:1452757332},&quot;updatedTime&quot;:1452792755,&quot;content&quot;:&quot;&lt;div class=\&quot;highlight\&quot;&gt;&lt;pre&gt;&lt;code class=\&quot;language-python\&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=\&quot;ch\&quot;&gt;#! /usr/bin/env python&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;from&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;urlparse&lt;/span&gt; &lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;urlsplit&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;from&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;os.path&lt;/span&gt; &lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;basename&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;urllib2&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;re&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;requests&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;os&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;json&lt;/span&gt;\n\n\n&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;https://www.zhihu.com/question/37787176&#x27;&lt;/span&gt;\n\n&lt;span class=\&quot;k\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;ow\&quot;&gt;not&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;os&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;path&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;exists&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;images&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;):&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;os&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;mkdir&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;images\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=\&quot;n\&quot;&gt;page_size&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;50&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;url_content&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;urllib2&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;urlopen&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;read&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;answers&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;re&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;findall&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;h3 data-num=\&quot;(.*?)\&quot;&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url_content&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n&lt;span class=\&quot;n\&quot;&gt;limits&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;int&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;answers&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;])&lt;/span&gt;\n\n&lt;span class=\&quot;k\&quot;&gt;while&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;limits&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;post_url&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s2\&quot;&gt;\&quot;http://www.zhihu.com/node/QuestionAnswerListV2\&quot;&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;params&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;json&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;dumps&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;({&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;url_token&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;37787176&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;pagesize&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;page_size&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;offset&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt;\n    &lt;span class=\&quot;p\&quot;&gt;})&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;{&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;_xsrf&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;method&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;next&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;params&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;params&lt;/span&gt;\n    &lt;span class=\&quot;p\&quot;&gt;}&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;header&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;{&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;User-Agent&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s2\&quot;&gt;\&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:34.0) Gecko/20100101 Firefox/34.0\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;Host&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;s2\&quot;&gt;\&quot;www.zhihu.com\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt;\n        &lt;span class=\&quot;s1\&quot;&gt;&#x27;Referer&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;\n    &lt;span class=\&quot;p\&quot;&gt;}&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;response&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;requests&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;post&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;post_url&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;data&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;headers&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;header&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;answer_list&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;response&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;json&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()[&lt;/span&gt;&lt;span class=\&quot;s2\&quot;&gt;\&quot;msg\&quot;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;img_urls&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;re&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;findall&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;img .*?src=\&quot;(.*?_b.*?)\&quot;&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;&#x27;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;join&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;answer_list&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;))&lt;/span&gt;\n    &lt;span class=\&quot;k\&quot;&gt;for&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;img_url&lt;/span&gt; &lt;span class=\&quot;ow\&quot;&gt;in&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;img_urls&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n        &lt;span class=\&quot;k\&quot;&gt;try&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;img_data&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;urllib2&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;urlopen&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;img_url&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;read&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;file_name&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;basename&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;urlsplit&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;img_url&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)[&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;2&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;])&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;output&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;open&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s1\&quot;&gt;&#x27;images/&#x27;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;file_name&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;s1\&quot;&gt;&#x27;wb&#x27;&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;output&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;write&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;img_data&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n            &lt;span class=\&quot;n\&quot;&gt;output&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;close&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;()&lt;/span&gt;\n        &lt;span class=\&quot;k\&quot;&gt;except&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;:&lt;/span&gt;\n            &lt;span class=\&quot;k\&quot;&gt;pass&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;page_size&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&lt;noscript&gt;&lt;img src=\&quot;https://pic4.zhimg.com/50/1a571fc177be7df4e39cbf3d4f8581c7_hd.png\&quot; data-rawwidth=\&quot;377\&quot; data-rawheight=\&quot;488\&quot; class=\&quot;content_image\&quot; width=\&quot;377\&quot;&gt;&lt;/noscript&gt;&lt;img src=\&quot;data:image/svg+xml;utf8,&amp;lt;svg%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20width=&#x27;377&#x27;%20height=&#x27;488&#x27;&amp;gt;&amp;lt;/svg&amp;gt;\&quot; data-rawwidth=\&quot;377\&quot; data-rawheight=\&quot;488\&quot; class=\&quot;content_image lazy\&quot; width=\&quot;377\&quot; data-actualsrc=\&quot;https://pic4.zhimg.com/50/1a571fc177be7df4e39cbf3d4f8581c7_hd.png\&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;noscript&gt;&lt;img src=\&quot;https://pic1.zhimg.com/50/27a1a0c48a799f60b655d8949879949c_hd.png\&quot; data-rawwidth=\&quot;226\&quot; data-rawheight=\&quot;223\&quot; class=\&quot;content_image\&quot; width=\&quot;226\&quot;&gt;&lt;/noscript&gt;&lt;img src=\&quot;data:image/svg+xml;utf8,&amp;lt;svg%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20width=&#x27;226&#x27;%20height=&#x27;223&#x27;&amp;gt;&amp;lt;/svg&amp;gt;\&quot; data-rawwidth=\&quot;226\&quot; data-rawheight=\&quot;223\&quot; class=\&quot;content_image lazy\&quot; width=\&quot;226\&quot; data-actualsrc=\&quot;https://pic1.zhimg.com/50/27a1a0c48a799f60b655d8949879949c_hd.png\&quot;&gt;&quot;,&quot;commentCount&quot;:626,&quot;extras&quot;:&quot;&quot;,&quot;reshipmentSettings&quot;:&quot;allowed&quot;,&quot;rewardInfo&quot;:{&quot;rewardMemberCount&quot;:0,&quot;tagline&quot;:&quot;&quot;,&quot;rewardTotalMoney&quot;:0,&quot;canOpenReward&quot;:false,&quot;isRewardable&quot;:false},&quot;isCopyable&quot;:true,&quot;type&quot;:&quot;answer&quot;,&quot;thumbnail&quot;:&quot;https://pic4.zhimg.com/1a571fc177be7df4e39cbf3d4f8581c7_200x112.jpg&quot;,&quot;isNormal&quot;:true},&quot;224690910&quot;:{&quot;suggestEdit&quot;:{&quot;status&quot;:false,&quot;reason&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;,&quot;url&quot;:&quot;&quot;,&quot;unnormalDetails&quot;:{},&quot;tip&quot;:&quot;&quot;},&quot;relationship&quot;:{&quot;upvotedFollowees&quot;:[],&quot;isAuthor&quot;:false,&quot;isNothelp&quot;:false,&quot;isAuthorized&quot;:false,&quot;voting&quot;:0,&quot;isThanked&quot;:false},&quot;editableContent&quot;:&quot;&quot;,&quot;markInfos&quot;:[],&quot;excerpt&quot;:&quot;20170903 13:00同java码农, 试着那个拿了8k赞的美女程序员 &lt;a class=\&quot;member_mention\&quot; href=\&quot;https://www.zhihu.com/people/f9f9a7ac24672eac77dfd7c007785d08\&quot; data-hash=\&quot;f9f9a7ac24672eac77dfd7c007785d08\&quot; data-hovercard=\&quot;p$b$f9f9a7ac24672eac77dfd7c007785d08\&quot;&gt;@小仙女Albee&lt;/a&gt; 的代码跑了下,发现缺了两个类..看了一圈评论都没人发现这个问题 (果然重点不是程序员是颜值).做了些小改动,写了个能跑的代码.package webMagic;\n\nimport lombok.extern.slf4j.Slf4j;\n…&quot;,&quot;annotationAction&quot;:[],&quot;adminClosedComment&quot;:false,&quot;collapsedBy&quot;:&quot;nobody&quot;,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;createdTime&quot;:1504415798,&quot;id&quot;:224690910,&quot;voteupCount&quot;:3000,&quot;collapseReason&quot;:&quot;&quot;,&quot;isCollapsed&quot;:false,&quot;isSticky&quot;:false,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/answers/224690910&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;author&quot;:{&quot;avatarUrlTemplate&quot;:&quot;https://pic2.zhimg.com/50/v2-5a5a0346d79d8ef6557f2623cb0efdc1_hd.jpg&quot;,&quot;badge&quot;:[],&quot;name&quot;:&quot;陈慕枫&quot;,&quot;headline&quot;:&quot;Creating Stars&quot;,&quot;gender&quot;:1,&quot;userType&quot;:&quot;people&quot;,&quot;isAdvertiser&quot;:false,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/50/v2-5a5a0346d79d8ef6557f2623cb0efdc1_hd.jpg&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/people/332f2e7607137b513b2a1e3db508bb1e&quot;,&quot;type&quot;:&quot;people&quot;,&quot;followerCount&quot;:496,&quot;urlToken&quot;:&quot;chen-mu-feng-11&quot;,&quot;id&quot;:&quot;332f2e7607137b513b2a1e3db508bb1e&quot;,&quot;isOrg&quot;:false},&quot;question&quot;:{&quot;questionType&quot;:&quot;normal&quot;,&quot;created&quot;:1448247790,&quot;url&quot;:&quot;http://www.zhihu.com/api/v4/questions/37787176&quot;,&quot;title&quot;:&quot;当一个颜值很高的程序员是怎样一番体验？&quot;,&quot;type&quot;:&quot;question&quot;,&quot;id&quot;:37787176,&quot;updatedTime&quot;:1452757332},&quot;updatedTime&quot;:1504426351,&quot;content&quot;:&quot;&lt;p&gt;20170903 13:00&lt;/p&gt;&lt;p&gt;同java码农, 试着那个拿了8k赞的美女程序员 &lt;a class=\&quot;member_mention\&quot; href=\&quot;https://www.zhihu.com/people/f9f9a7ac24672eac77dfd7c007785d08\&quot; data-hash=\&quot;f9f9a7ac24672eac77dfd7c007785d08\&quot; data-hovercard=\&quot;p$b$f9f9a7ac24672eac77dfd7c007785d08\&quot;&gt;@小仙女Albee&lt;/a&gt; 的代码跑了下,发现缺了两个类..看了一圈评论都没人发现这个问题 (果然重点不是程序员是颜值).&lt;/p&gt;&lt;p&gt;做了些小改动,写了个能跑的代码.&lt;/p&gt;&lt;div class=\&quot;highlight\&quot;&gt;&lt;pre&gt;&lt;code class=\&quot;language-java\&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=\&quot;kn\&quot;&gt;package&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;webMagic&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;lombok.extern.slf4j.Slf4j&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;org.apache.commons.lang.math.RandomUtils&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;us.codecraft.webmagic.Site&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;us.codecraft.webmagic.Spider&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;us.codecraft.webmagic.processor.PageProcessor&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;us.codecraft.webmagic.selector.JsonPathSelector&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.io.File&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.io.FileOutputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.io.InputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.io.OutputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.net.URL&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.net.URLConnection&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.util.List&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n&lt;span class=\&quot;cm\&quot;&gt;/**&lt;/span&gt;\n&lt;span class=\&quot;cm\&quot;&gt; * Created by Albee on 2017/4/13.&lt;/span&gt;\n&lt;span class=\&quot;cm\&quot;&gt; * Optimized by Stephen Cai on 2017/9/3&lt;/span&gt;\n&lt;span class=\&quot;cm\&quot;&gt; */&lt;/span&gt;\n&lt;span class=\&quot;nd\&quot;&gt;@Slf4j&lt;/span&gt;\n&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;class&lt;/span&gt; &lt;span class=\&quot;nc\&quot;&gt;GetquestionUrlProcessor&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;implements&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;PageProcessor&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t&lt;span class=\&quot;c1\&quot;&gt;// 设置编码 ，超时时间，重试次数，&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;private&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Site&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;site&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Site&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;me&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setRetryTimes&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;10&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setSleepTime&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;5000&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setTimeOut&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;5000&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addCookie&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;Domain\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;zhihu.com\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addCookie&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;z_c0\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;你的知乎cookie&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setUserAgent&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t&lt;span class=\&quot;c1\&quot;&gt;//问题的索引&lt;/span&gt;\n\t&lt;span class=\&quot;c1\&quot;&gt;//https://www.zhihu.com/question/20902967&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;private&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;final&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;URL_question&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;^https://www\\\\.zhihu\\\\.com/question/\\\\d+$\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t&lt;span class=\&quot;c1\&quot;&gt;//https://www.zhihu.com/question/19647535/answer/110944270&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;private&lt;/span&gt;  &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt;  &lt;span class=\&quot;kd\&quot;&gt;final&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;URL_answer&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;https://www\\\\.zhihu\\\\.com/question/\\\\d+/answer/\\\\d+\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n\t&lt;span class=\&quot;kd\&quot;&gt;private&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt;   &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;questionId&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;\&quot;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n\t&lt;span class=\&quot;nd\&quot;&gt;@Override&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;void&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;process&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;us&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;codecraft&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;webmagic&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;Page&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;//页面为问题页，则将答案链接循环加入Downloader&lt;/span&gt;\n\t\t&lt;span class=\&quot;k\&quot;&gt;if&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getUrl&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;regex&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;URL_question&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;match&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;()){&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;total&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;time&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;total&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;/&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setCharset&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;UTF-8\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;k\&quot;&gt;for&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;time&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;++){&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt;  &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;*&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;limit&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;total&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;lt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)*&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;?&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;total&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;:((&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)*&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;-&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;  &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;https://www.zhihu.com/api/v4/questions/\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;questionId&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;/answers?include=data%5B*%5D.is_normal%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Cmark_infos%2Ccreated_time%2Cupdated_time%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cupvoted_followees%3Bdata%5B*%5D.author.badge%5B%3F(type%3Dbest_answerer)%5D.topics&amp;amp;offset=\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;&amp;amp;limit=\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;limit&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;&amp;amp;sort_by=default\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addTargetRequest&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getRequest&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setCharset&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;UTF-8\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;c1\&quot;&gt;//某个具体答案详情页面，则获取详情信息 。&lt;/span&gt;\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;&lt;span class=\&quot;k\&quot;&gt;else&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;if&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getUrl&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;regex&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;URL_answer&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;match&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;()){&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;questionTitle&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getHtml&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;xpath&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;//h1[@class=QuestionHeader-title]/text()\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;toString&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;user_Avatar&lt;/span&gt;  &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;  &lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getHtml&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;xpath&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;//span[@class=AuthorInfo-avatarWrapper]//img/@src\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;toString&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;List&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;urlList&lt;/span&gt;  &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getHtml&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;xpath&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;//div[@class=RichContent-inner]//img/@src\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;all&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;filePath&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;你的目录&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;title&lt;/span&gt;  &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;  &lt;span class=\&quot;n\&quot;&gt;questionTitle&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;_\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;user_Avatar&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;kd\&quot;&gt;final&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;[]&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;};&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;urlList&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;forEach&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t\t\t&lt;span class=\&quot;k\&quot;&gt;try&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;downloadPicture&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;filePath&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Integer&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;toString&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;RandomUtils&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;nextInt&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;())&lt;/span&gt;\n\t\t\t\t\t\t\t\t &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;substring&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;lastIndexOf&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;.\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;),&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;length&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;()));&lt;/span&gt;\n\t\t\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;]++;&lt;/span&gt;\n\t\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;catch&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;Exception&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;e&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;e&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;});&lt;/span&gt;\n\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;else&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;List&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;id&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;JsonPathSelector&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;$.data[*].id\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;selectList&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getRawText&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;());&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;k\&quot;&gt;for&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;id&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;size&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;++){&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;answerUrl&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;https://www.zhihu.com/question/\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;questionId&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;/answer/\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;id&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;get&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addTargetRequest&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;answerUrl&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\n\t&lt;span class=\&quot;nd\&quot;&gt;@Override&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Site&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;getSite&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;()&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t&lt;span class=\&quot;k\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;site&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;void&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;downloadPicture&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;urlString&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;savePath&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;filename&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;throws&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Exception&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 构造URL&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;URL&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;URL&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;urlString&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 打开连接&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;URLConnection&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;con&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;openConnection&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;//设置请求超时为5s&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;con&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setConnectTimeout&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;5&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;*&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1000&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 输入流&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;InputStream&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;is&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;con&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getInputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 1K的数据缓冲&lt;/span&gt;\n\t\t&lt;span class=\&quot;kt\&quot;&gt;byte&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;[]&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;bs&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;byte&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1024&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;];&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 读取到的数据长度&lt;/span&gt;\n\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;len&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 输出的文件流&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;File&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;sf&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;File&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;savePath&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;/\&quot;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;filename&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n&lt;span class=\&quot;c1\&quot;&gt;//\t\tif(!sf.exists()){&lt;/span&gt;\n&lt;span class=\&quot;c1\&quot;&gt;//\t\t\tsf.mkdirs();&lt;/span&gt;\n&lt;span class=\&quot;c1\&quot;&gt;//\t\t}&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;OutputStream&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;os&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;FileOutputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;sf&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 开始读取&lt;/span&gt;\n\t\t&lt;span class=\&quot;k\&quot;&gt;while&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;((&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;len&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;is&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;read&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;bs&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;))&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;!=&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;-&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;os&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;write&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;bs&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;len&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 完毕，关闭所有链接&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;os&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;close&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;is&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;close&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\n\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\n\n\t&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;void&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;main&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;[]&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;args&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;questionId&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;37787176\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;Site&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;site&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Site&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;site&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setCharset&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;UTF-8\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;Spider&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;create&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;GetquestionUrlProcessor&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;())&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addUrl&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;https://www.zhihu.com/question/\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;questionId&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n&lt;span class=\&quot;c1\&quot;&gt;//\t\t\t\t.addPipeline(new GetquestionUrlPipeline())&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;thread&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;10&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;run&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\n\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;20170903 15:49 &lt;/p&gt;&lt;p&gt;爬某个用户所有回答中的图片的代码也写好了,顺便爬了下小仙女的图片,大家可以试试,代码里还有不少瑕疵,暂不做优化了.&lt;/p&gt;&lt;div class=\&quot;highlight\&quot;&gt;&lt;pre&gt;&lt;code class=\&quot;language-java\&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=\&quot;kn\&quot;&gt;package&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;webMagic&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;lombok.extern.slf4j.Slf4j&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;org.apache.commons.lang.math.RandomUtils&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;us.codecraft.webmagic.Site&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;us.codecraft.webmagic.Spider&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;us.codecraft.webmagic.processor.PageProcessor&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;us.codecraft.webmagic.selector.JsonPathSelector&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.io.File&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.io.FileOutputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.io.InputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.io.OutputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.net.URL&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.net.URLConnection&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n&lt;span class=\&quot;kn\&quot;&gt;import&lt;/span&gt; &lt;span class=\&quot;nn\&quot;&gt;java.util.List&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n&lt;span class=\&quot;cm\&quot;&gt;/**&lt;/span&gt;\n&lt;span class=\&quot;cm\&quot;&gt; * Created by Albee on 2017/4/13.&lt;/span&gt;\n&lt;span class=\&quot;cm\&quot;&gt; * Optimized by Stephen Cai on 2017/9/3&lt;/span&gt;\n&lt;span class=\&quot;cm\&quot;&gt; */&lt;/span&gt;\n&lt;span class=\&quot;nd\&quot;&gt;@Slf4j&lt;/span&gt;\n&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;class&lt;/span&gt; &lt;span class=\&quot;nc\&quot;&gt;ZhihuHomePageProcessor&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;implements&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;PageProcessor&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t&lt;span class=\&quot;c1\&quot;&gt;// 设置编码 ，超时时间，重试次数，&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;private&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Site&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;site&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Site&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;me&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setRetryTimes&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;10&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setSleepTime&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;5000&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setTimeOut&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;5000&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addCookie&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;Domain\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;zhihu.com\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addCookie&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;z_c0\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;你的cookie&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setUserAgent&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.89 Safari/537.36\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\n\n\t&lt;span class=\&quot;kd\&quot;&gt;private&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;final&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;URL_answer&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;https://www\\\\.zhihu\\\\.com/question/\\\\d+/answer/\\\\d+\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n\t&lt;span class=\&quot;kd\&quot;&gt;private&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;final&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;URL_ANSWERS&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;https://www\\\\.zhihu\\\\.com/people/.*/answers\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;private&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;userName&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\n\t&lt;span class=\&quot;nd\&quot;&gt;@Override&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;void&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;process&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;us&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;codecraft&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;webmagic&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;Page&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t&lt;span class=\&quot;k\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getUrl&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;regex&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;URL_ANSWERS&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;match&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;())&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;total&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;time&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;total&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;/&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setCharset&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;UTF-8\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;k\&quot;&gt;for&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;time&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;++)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;*&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;limit&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;total&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;*&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;?&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;total&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;:&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;((&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;*&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;20&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;-&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;https://www.zhihu.com/api/v4/members/\&quot;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;userName&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;/answers?include=data%5B*%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Cmark_infos%2Ccreated_time%2Cupdated_time%2Creview_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cvoting%2Cis_author%2Cis_thanked%2Cis_nothelp%2Cupvoted_followees%3Bdata%5B*%5D.author.badge%5B%3F(type%3Dbest_answerer)%5D.topics&amp;amp;offset=\&quot;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;&amp;amp;limit=\&quot;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;limit&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;&amp;amp;sort_by=created\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addTargetRequest&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;else&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;if&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getUrl&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;regex&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;URL_answer&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;match&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;())&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;List&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;urlList&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getHtml&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;xpath&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;//div[@class=RichContent-inner]//img/@src\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;all&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;filePath&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;你要存的路径&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;userName&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;urlList&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;forEach&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;k\&quot;&gt;try&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;downloadPicture&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;filePath&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Integer&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;toString&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;RandomUtils&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;nextInt&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;())&lt;/span&gt;\n\t\t\t\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;substring&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;lastIndexOf&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;.\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;),&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;length&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;()));&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;catch&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;Exception&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;e&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;e&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;});&lt;/span&gt;\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;else&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;List&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;answerIds&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;JsonPathSelector&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;$.data[*].id\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;selectList&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getRawText&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;());&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;List&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;questionIds&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;JsonPathSelector&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;s\&quot;&gt;\&quot;$.data[*].question.id\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;).&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;selectList&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getRawText&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;());&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;k\&quot;&gt;for&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;answerIds&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;size&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;++)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;answerUrl&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;https://www.zhihu.com/question/\&quot;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;questionIds&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;get&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;/answer/\&quot;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;answerIds&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;get&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;i&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;n\&quot;&gt;page&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addTargetRequest&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;answerUrl&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\n\t&lt;span class=\&quot;nd\&quot;&gt;@Override&lt;/span&gt;\n\t&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Site&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;getSite&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;()&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\n\t\t&lt;span class=\&quot;k\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;site&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\n\t&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;void&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;downloadPicture&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;urlString&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;savePath&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;filename&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;throws&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;Exception&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 构造URL&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;URL&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;URL&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;urlString&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 打开连接&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;URLConnection&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;con&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;openConnection&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;//设置请求超时为5s&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;con&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;setConnectTimeout&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;5&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;*&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;1000&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 输入流&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;InputStream&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;is&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;con&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getInputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 1K的数据缓冲&lt;/span&gt;\n\t\t&lt;span class=\&quot;kt\&quot;&gt;byte&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;[]&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;bs&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;byte&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1024&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;];&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 读取到的数据长度&lt;/span&gt;\n\t\t&lt;span class=\&quot;kt\&quot;&gt;int&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;len&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 输出的文件流&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;File&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;file&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;File&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;savePath&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt;  &lt;span class=\&quot;s\&quot;&gt;\&quot;/\&quot;&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;filename&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;k\&quot;&gt;if&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;(!&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;file&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;exists&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;())&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;file&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;getParentFile&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;().&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;mkdirs&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;file&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;createNewFile&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;OutputStream&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;os&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;FileOutputStream&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;file&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 开始读取&lt;/span&gt;\n\t\t&lt;span class=\&quot;k\&quot;&gt;while&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;((&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;len&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;is&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;read&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;bs&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;))&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;!=&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;-&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=\&quot;n\&quot;&gt;os&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;write&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;bs&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;len&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;);&lt;/span&gt;\n\t\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;// 完毕，关闭所有链接&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;os&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;close&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;is&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;close&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\n\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n\n\n\t&lt;span class=\&quot;kd\&quot;&gt;public&lt;/span&gt; &lt;span class=\&quot;kd\&quot;&gt;static&lt;/span&gt; &lt;span class=\&quot;kt\&quot;&gt;void&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;main&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;[]&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;args&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;{&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;userName&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;xiao-xian-nu-albee\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t&lt;span class=\&quot;c1\&quot;&gt;//个人主页的网址&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;String&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;\&quot;https://www.zhihu.com/people/xiao-xian-nu-albee/answers\&quot;&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;;&lt;/span&gt;\n\t\t&lt;span class=\&quot;n\&quot;&gt;Spider&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;create&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;k\&quot;&gt;new&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;ZhihuHomePageProcessor&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;())&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;addUrl&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;url&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n&lt;span class=\&quot;c1\&quot;&gt;//\t\t\t\t.addPipeline(new GetquestionUrlPipeline())&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;thread&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;10&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;)&lt;/span&gt;\n\t\t\t\t&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;na\&quot;&gt;run&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;();&lt;/span&gt;\n\n\t&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n&lt;span class=\&quot;o\&quot;&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;noscript&gt;&lt;img src=\&quot;https://pic3.zhimg.com/50/v2-e31933ae5c79e190934dc872504a272a_hd.png\&quot; data-rawwidth=\&quot;1690\&quot; data-rawheight=\&quot;1054\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;1690\&quot; data-original=\&quot;https://pic3.zhimg.com/v2-e31933ae5c79e190934dc872504a272a_r.png\&quot;&gt;&lt;/noscript&gt;&lt;img src=\&quot;data:image/svg+xml;utf8,&amp;lt;svg%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20width=&#x27;1690&#x27;%20height=&#x27;1054&#x27;&amp;gt;&amp;lt;/svg&amp;gt;\&quot; data-rawwidth=\&quot;1690\&quot; data-rawheight=\&quot;1054\&quot; class=\&quot;origin_image zh-lightbox-thumb lazy\&quot; width=\&quot;1690\&quot; data-original=\&quot;https://pic3.zhimg.com/v2-e31933ae5c79e190934dc872504a272a_r.png\&quot; data-actualsrc=\&quot;https://pic3.zhimg.com/50/v2-e31933ae5c79e190934dc872504a272a_hd.png\&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;最后感谢下源码作者 &lt;a class=\&quot;member_mention\&quot; href=\&quot;https://www.zhihu.com/people/b535f4d2681a32a2bfda66b4c2c83027\&quot; data-hash=\&quot;b535f4d2681a32a2bfda66b4c2c83027\&quot; data-hovercard=\&quot;p$b$b535f4d2681a32a2bfda66b4c2c83027\&quot;&gt;@黄亿华&lt;/a&gt; &lt;br&gt;贴上webMagic github地址 &lt;a href=\&quot;https://link.zhihu.com/?target=https%3A//github.com/code4craft/webmagic\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;code4craft/webmagic&lt;i class=\&quot;icon-external\&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;&quot;,&quot;commentCount&quot;:403,&quot;extras&quot;:&quot;&quot;,&quot;reshipmentSettings&quot;:&quot;allowed&quot;,&quot;rewardInfo&quot;:{&quot;rewardMemberCount&quot;:0,&quot;tagline&quot;:&quot;&quot;,&quot;rewardTotalMoney&quot;:0,&quot;canOpenReward&quot;:false,&quot;isRewardable&quot;:false},&quot;isCopyable&quot;:true,&quot;type&quot;:&quot;answer&quot;,&quot;thumbnail&quot;:&quot;https://pic3.zhimg.com/v2-e31933ae5c79e190934dc872504a272a_200x112.jpg&quot;,&quot;isNormal&quot;:true}},&quot;articles&quot;:{},&quot;columns&quot;:{},&quot;topics&quot;:{},&quot;roundtables&quot;:{},&quot;favlists&quot;:{},&quot;comments&quot;:{},&quot;notifications&quot;:{},&quot;ebooks&quot;:{},&quot;activities&quot;:{},&quot;feeds&quot;:{},&quot;pins&quot;:{},&quot;promotions&quot;:{}},&quot;currentUser&quot;:&quot;&quot;,&quot;token&quot;:{&quot;xsrf&quot;:&quot;586b5a4f-8570-4a55-90b8-c338d36b3cf1&quot;,&quot;xUDID&quot;:&quot;&quot;},&quot;account&quot;:{&quot;locakTicketStatus&quot;:false,&quot;challenge&quot;:[],&quot;errorStatus&quot;:false,&quot;message&quot;:&quot;&quot;,&quot;isFetching&quot;:false},&quot;notification&quot;:{},&quot;people&quot;:{&quot;isFetching&quot;:false,&quot;activitiesByUser&quot;:{},&quot;answersByUser&quot;:{},&quot;answersSortByVotesByUser&quot;:{},&quot;answersIncludedByUser&quot;:{},&quot;votedAnswersByUser&quot;:{},&quot;thankedAnswersByUser&quot;:{},&quot;voteAnswersByUser&quot;:{},&quot;thankAnswersByUser&quot;:{},&quot;topicAnswersByUser&quot;:{},&quot;articlesByUser&quot;:{},&quot;articlesSortByVotesByUser&quot;:{},&quot;articlesIncludedByUser&quot;:{},&quot;pinsByUser&quot;:{},&quot;questionsByUser&quot;:{},&quot;commercialQuestionsByUser&quot;:{},&quot;favlistsByUser&quot;:{},&quot;followingByUser&quot;:{},&quot;followersByUser&quot;:{},&quot;mutualsByUser&quot;:{},&quot;followingColumnsByUser&quot;:{},&quot;followingQuestionsByUser&quot;:{},&quot;followingFavlistsByUser&quot;:{},&quot;followingTopicsByUser&quot;:{},&quot;publicationsByUser&quot;:{},&quot;columnsByUser&quot;:{},&quot;allFavlistsByUser&quot;:{},&quot;brands&quot;:null},&quot;env&quot;:{&quot;experiment&quot;:{&quot;ge3&quot;:&quot;ge3_9&quot;,&quot;ge2&quot;:&quot;ge2_1&quot;,&quot;nwebStickySidebar&quot;:&quot;sticky&quot;,&quot;androidPassThroughPush&quot;:&quot;all&quot;,&quot;newMore&quot;:&quot;new&quot;,&quot;liveReviewBuyBar&quot;:&quot;live_review_buy_bar_2&quot;,&quot;liveStore&quot;:&quot;ls_a2_b2_c1_f2&quot;,&quot;searchHybridTabs&quot;:&quot;pin-3&quot;,&quot;isOffice&quot;:&quot;false&quot;,&quot;homeUi2&quot;:&quot;default&quot;,&quot;remixOneKeyPlayButton&quot;:&quot;headerButton&quot;,&quot;marketTab&quot;:&quot;market_tab_old&quot;,&quot;qrcodeLogin&quot;:&quot;qrcode&quot;,&quot;isShowUnicomFreeEntry&quot;:&quot;unicom_free_entry_off&quot;,&quot;newMobileColumnAppheader&quot;:&quot;new_header&quot;,&quot;androidDbRecommendAction&quot;:&quot;open&quot;,&quot;zcmLighting&quot;:&quot;zcm&quot;,&quot;favAct&quot;:&quot;default&quot;,&quot;appStoreRateDialog&quot;:&quot;close&quot;,&quot;mobileQaPageProxyHeifetz&quot;:&quot;m_qa_page_nweb&quot;,&quot;default&quot;:&quot;None&quot;,&quot;wechatShareModal&quot;:&quot;wechat_share_modal_show&quot;,&quot;qaStickySidebar&quot;:&quot;sticky_sidebar&quot;,&quot;androidProfilePanel&quot;:&quot;panel_b&quot;,&quot;nwebWriteAnswer&quot;:&quot;default&quot;},&quot;userAgent&quot;:{&quot;Edge&quot;:false,&quot;Wechat&quot;:false,&quot;Weibo&quot;:false,&quot;QQ&quot;:false,&quot;Mobile&quot;:false,&quot;Android&quot;:false,&quot;iOS&quot;:false,&quot;isAppleDevice&quot;:false,&quot;Zhihu&quot;:false,&quot;ZhihuHybrid&quot;:false,&quot;isBot&quot;:false,&quot;isWebView&quot;:false},&quot;trafficSource&quot;:&quot;production&quot;,&quot;edition&quot;:{&quot;baidu&quot;:false,&quot;yidianzixun&quot;:false},&quot;theme&quot;:&quot;light&quot;,&quot;referer&quot;:&quot;&quot;,&quot;conf&quot;:{&quot;unblockContacts&quot;:{&quot;telecom&quot;:&quot;1069 0920 21212&quot;,&quot;mobile&quot;:&quot;1069 02098 21212&quot;,&quot;unicom&quot;:&quot;1069 0920 21212&quot;}}},&quot;config&quot;:{&quot;isWindow&quot;:1,&quot;canWrite&quot;:false,&quot;alertTimeSpan&quot;:3600,&quot;tip&quot;:&quot;应国家法规对于帐号实名的要求，进行下一步操作前，需要先完成手机绑定。&quot;},&quot;pushNotifications&quot;:{&quot;default&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;follow&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;vote-thank&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;currentTab&quot;:&quot;default&quot;,&quot;notificationsCount&quot;:{&quot;default&quot;:0,&quot;follow&quot;:0,&quot;vote-thank&quot;:0}},&quot;messages&quot;:{&quot;data&quot;:{},&quot;currentTab&quot;:&quot;common&quot;,&quot;messageCount&quot;:0},&quot;register&quot;:{&quot;registerValidateSucceeded&quot;:null,&quot;registerValidateErrors&quot;:{},&quot;registerConfirmError&quot;:null,&quot;sendDigitsError&quot;:null,&quot;registerConfirmSucceeded&quot;:null},&quot;login&quot;:{&quot;loginUnregisteredError&quot;:false,&quot;loginBindWechatError&quot;:false,&quot;loginConfirmError&quot;:null,&quot;sendDigitsError&quot;:null,&quot;validateDigitsError&quot;:false,&quot;loginConfirmSucceeded&quot;:null,&quot;qrcodeLoginToken&quot;:&quot;&quot;,&quot;qrcodeLoginScanStatus&quot;:0,&quot;qrcodeLoginError&quot;:null,&quot;qrcodeLoginReturnNewToken&quot;:false},&quot;active&quot;:{&quot;sendDigitsError&quot;:null,&quot;activeConfirmSucceeded&quot;:null,&quot;activeConfirmError&quot;:null},&quot;question&quot;:{&quot;followers&quot;:{},&quot;concernedFollowers&quot;:{},&quot;answers&quot;:{&quot;37787176&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[81607754,224690910,74823133],&quot;newIds&quot;:[81607754,224690910,74823133],&quot;totals&quot;:2089,&quot;isPrevDrained&quot;:true,&quot;previous&quot;:&quot;http://www.zhihu.com/api/v4/questions/37787176/answers?sort_by=default&amp;include=data%5B%2A%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cupvoted_followees%3Bdata%5B%2A%5D.mark_infos%5B%2A%5D.url%3Bdata%5B%2A%5D.author.follower_count%2Cbadge%5B%3F%28type%3Dbest_answerer%29%5D.topics&amp;limit=3&amp;offset=0&quot;,&quot;next&quot;:&quot;http://www.zhihu.com/api/v4/questions/37787176/answers?sort_by=default&amp;include=data%5B%2A%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Cquestion%2Cexcerpt%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cupvoted_followees%3Bdata%5B%2A%5D.mark_infos%5B%2A%5D.url%3Bdata%5B%2A%5D.author.follower_count%2Cbadge%5B%3F%28type%3Dbest_answerer%29%5D.topics&amp;limit=3&amp;offset=3&quot;}},&quot;hiddenAnswers&quot;:{},&quot;createdAnswers&quot;:{},&quot;collapsedAnswers&quot;:{},&quot;notificationAnswers&quot;:{},&quot;invitationCandidates&quot;:{},&quot;inviters&quot;:{},&quot;invitees&quot;:{},&quot;similarQuestions&quot;:{},&quot;relatedLives&quot;:{},&quot;recommendReadings&quot;:{},&quot;bio&quot;:{},&quot;brand&quot;:{},&quot;commonAnswerCount&quot;:0,&quot;hiddenAnswerCount&quot;:0},&quot;comments&quot;:{&quot;pagination&quot;:{},&quot;collapsed&quot;:{},&quot;reverse&quot;:{},&quot;reviewing&quot;:{},&quot;conversation&quot;:{},&quot;parent&quot;:{}},&quot;shareTexts&quot;:{},&quot;answers&quot;:{&quot;voters&quot;:{},&quot;copyrightApplicants&quot;:{},&quot;favlists&quot;:{},&quot;newAnswer&quot;:{}},&quot;banner&quot;:{},&quot;topics&quot;:{&quot;bios&quot;:{}},&quot;captcha&quot;:{&quot;captchaNeeded&quot;:false,&quot;captchaValidated&quot;:false,&quot;captchaBase64String&quot;:null,&quot;captchaValidationMessage&quot;:null,&quot;loginCaptchaExpires&quot;:false},&quot;sms&quot;:{&quot;supportedCountries&quot;:[]},&quot;explore&quot;:{&quot;recommendations&quot;:{},&quot;hotfeeds&quot;:{}},&quot;articles&quot;:{&quot;voters&quot;:{}},&quot;favlists&quot;:{&quot;relations&quot;:{}},&quot;pins&quot;:{&quot;voters&quot;:{}},&quot;topstory&quot;:{&quot;topstorys&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;afterId&quot;:0,&quot;items&quot;:[],&quot;next&quot;:null},&quot;sidebar&quot;:null,&quot;announcement&quot;:{}},&quot;upload&quot;:{},&quot;video&quot;:{&quot;data&quot;:{}},&quot;guide&quot;:{&quot;guide&quot;:{&quot;isFetching&quot;:false,&quot;isShowGuide&quot;:false}},&quot;switches&quot;:{},&quot;reward&quot;:{},&quot;search&quot;:{&quot;recommendSearch&quot;:[],&quot;topSearch&quot;:{},&quot;generalByQuery&quot;:{},&quot;generalByQueryInADay&quot;:{},&quot;generalByQueryInAWeek&quot;:{},&quot;generalByQueryInThreeMonths&quot;:{},&quot;peopleByQuery&quot;:{},&quot;topicByQuery&quot;:{},&quot;columnByQuery&quot;:{},&quot;liveByQuery&quot;:{},&quot;eBookByQuery&quot;:{}}}" data-config="{&quot;apiAddress&quot;:&quot;/api/v4/&quot;,&quot;deployEnv&quot;:&quot;production&quot;}"></div><script src="https://static.zhihu.com/heifetz/vendor.72d10fe31301a0517a94.js"></script><script src="https://static.zhihu.com/heifetz/main.raven.2149284b3f52c3d38ea3.js" async=""></script><script src="https://static.zhihu.com/heifetz/main.app.1357d2d1ec45750df1c5.js"></script><script></script></body></html>